var P=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var R=(a,f)=>{var m={};for(var i in a)V.call(a,i)&&f.indexOf(i)<0&&(m[i]=a[i]);if(a!=null&&P)for(var i of P(a))f.indexOf(i)<0&&W.call(a,i)&&(m[i]=a[i]);return m};import{r as s,u as ee,h as p,j as t}from"./react-1b56b61c.js";import{B as te,T as d,L as ae,C as u}from"./index-1c3bd344.js";import{D as y,d as oe,a7 as re,c as ie,ah as se,x as ne,ai as ce,Y as de,aj as le,Z as ue}from"./index-c941e042.js";import{u as me}from"./react-redux-6f2a0ace.js";import{ac as ge,ad as he}from"./vendor-e7a31927.js";import"./lodash-87ac67d6.js";import"./react-router-dom-1f34616f.js";const ke=()=>{const a=ie("radio-host"),[f,m]=s.exports.useState([]),[i,B]=s.exports.useState([]),[c,_]=s.exports.useState(0),[k,J]=s.exports.useState(0),[S,F]=s.exports.useState([]),[N,b]=s.exports.useState([]),[E,j]=s.exports.useState([]),[I,T]=s.exports.useState([]),[z,U]=s.exports.useState([]),[L,A]=s.exports.useState([]),[H,Z]=s.exports.useState([]),M=me(),{push:g}=ee();function O(e,o){se(e).then(r=>{const n=r.djRadios.map(v=>{const{id:C,name:x,picUrl:w}=v;return{id:C,name:x,imgUrl:w}});o(n.slice(0,5))})}function D(e=!1){e&&k-c>1&&_(c+1),!e&&c>0&&_(c-1)}function Y({item:e}){var o,r,n;return p("div",{className:a("list"),children:[t("h2",{children:e.name}),t("h4",{children:(o=e.extra)==null?void 0:o.rcmdText}),t("h4",{children:(r=e.extra)==null?void 0:r.lastProgramName}),p("h3",{children:["\xA5",Number((n=e.extra)==null?void 0:n.originalPrice)/100]})]})}function G(e){M(ne(e))}function l(e){g(y.radioList(e))}function X(e){g(y.radioList(e,"pay"))}function h(e){var r;const o=(r=i.find(n=>n.name===e))==null?void 0:r.id;g(y.radioZone(o))}async function $(){const e=await ce();m(e.data.map(o=>({targetId:o.targetId,imageUrl:o.pic})))}async function q(){const e=await de();B(e.categories),J(Math.ceil(e.categories.length/8))}async function K(){const o=(await le()).data.map(r=>({id:r.id,name:r.rcmdText,imgUrl:r.picUrl}));F(o)}async function Q(){const o=(await ue()).data.list.map(r=>{const w=r,{id:n,name:v,picUrl:C}=w,x=R(w,["id","name","picUrl"]);return{id:n,name:v,imgUrl:C,extra:x}});b(o)}return s.exports.useEffect(()=>{$(),q(),K(),Q(),[[10001,j],[2001,T],[2,U],[3,A],[8,Z]].forEach(o=>O(...o))},[]),p("div",{className:a(),children:[t(te,{data:f,onBannerClick:G}),p("div",{className:a("category"),children:[c>0?t(ge,{className:a("category-arrow --left"),onClick:()=>D()}):null,k-c>1?t(he,{className:a("category-arrow --right"),onClick:()=>D(!0)}):null,t("div",{className:a("category-wrapper"),style:{transform:`translateX(${2-c*72}vw)`},children:i.map(e=>p("div",{className:a("category-item"),onClick:()=>g(y.radioZone(e.id)),children:[t("div",{className:a("category-img-wrapper"),children:t(oe,{className:a("category-img"),src:e.pic56x56Url})}),t("div",{className:a("category-text"),children:e.name})]},e.id))})]}),t(d,{name:"\u4ED8\u8D39\u7CBE\u54C1",onClick:()=>g(re.findMusicRadioHostPay)}),t(ae,{size:"large",data:N,functionChildren:Y,onItemClick:X}),t(d,{name:"\u7535\u53F0\u4E2A\u6027\u63A8\u8350"}),t(u,{data:S,onItemClick:l}),t(d,{name:"\u6709\u58F0\u4E66",onClick:()=>h("\u6709\u58F0\u4E66")}),t(u,{data:E,onItemClick:l}),t(d,{name:"\u521B\u4F5C\u7FFB\u5531",onClick:()=>h("\u521B\u4F5C\u7FFB\u5531")}),t(u,{data:I,onItemClick:l}),t(d,{name:"\u97F3\u4E50\u63A8\u8350",onClick:()=>h("\u97F3\u4E50\u63A8\u8350")}),t(u,{data:z,onItemClick:l}),t(d,{name:"\u60C5\u611F",onClick:()=>h("\u60C5\u611F")}),t(u,{data:L,onItemClick:l}),t(d,{name:"\u8131\u53E3\u79C0",onClick:()=>h("\u8131\u53E3\u79C0")}),t(u,{data:H,onItemClick:l})]})};export{ke as default};
