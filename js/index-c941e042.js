var St=Object.defineProperty,Ft=Object.defineProperties;var Dt=Object.getOwnPropertyDescriptors;var ae=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var ze=(e,t,n)=>t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))Ve.call(t,n)&&ze(e,n,t[n]);if(ae)for(var n of ae(t))je.call(t,n)&&ze(e,n,t[n]);return e},V=(e,t)=>Ft(e,Dt(t));var H=(e,t)=>{var n={};for(var o in e)Ve.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&ae)for(var o of ae(e))t.indexOf(o)<0&&je.call(e,o)&&(n[o]=e[o]);return n};import{r as l,j as s,a as ne,h as c,u as G,k as ke,F as P,l as ct,S as ut,n as dt,o as Nt,p as kt}from"./react-1b56b61c.js";import{L as At,B as Bt}from"./react-router-dom-1f34616f.js";import{h as _t,j as $,k as L,m as Ae,n as W,o as Y,q as se,r as Lt,C as Be,t as ce,T as qe,u as It,D as Ot,F as Tt,v as Pt,N as Rt,S as mt,H as Le,x as Mt,y as $t,z as pt,A as zt,B as Vt,E as jt,R as qt,G as Ut,I as Ht,L as Jt,J as Ie,Q as Gt,K as ht,M as Yt,O as Kt,U as Zt,V as Qt,W as Wt,X as Oe,Y as Xt,Z as en,$ as tn,a0 as nn,a1 as sn,a2 as on,a3 as rn,a4 as Ue,a5 as gt,a6 as an,a7 as ln,a8 as ft,a9 as cn,aa as Te,ab as un,ac as dn,ad as _n,ae as mn,af as pn,ag as hn,ah as gn}from"./vendor-e7a31927.js";import{u as R,a as k,P as fn}from"./react-redux-6f2a0ace.js";import{a as yn}from"./lodash-87ac67d6.js";const vn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}};vn();const bn="modulepreload",He={},Cn="",w=function(t,n){return!n||n.length===0?t():Promise.all(n.map(o=>{if(o=`${Cn}${o}`,o in He)return;He[o]=!0;const a=o.endsWith(".css"),r=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":bn,a||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),a)return new Promise((u,_)=>{i.addEventListener("load",u),i.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};const En="_sidebar_yo7cu_1",wn="_sidebar__header_yo7cu_6",xn="_sidebar__main_yo7cu_23",Sn="_sidebar__item_yo7cu_34",Fn="_sidebar__title_yo7cu_56";var Je={sidebar:En,sidebar__header:wn,sidebar__main:xn,"sidebar__main-content":"_sidebar__main-content_yo7cu_31",sidebar__item:Sn,"--active":"_--active_yo7cu_43",sidebar__title:Fn,"sidebar__title-left":"_sidebar__title-left_yo7cu_65","sidebar__title-right":"_sidebar__title-right_yo7cu_70"};const Dn="_scrollbar_11l6t_1",Nn="_scrollbar__content_11l6t_8";var kn={scrollbar:Dn,scrollbar__content:Nn};const Pe={set(e,t,n=864e5){const o=typeof t=="string"?t:$.stringify(t);return localStorage.setItem(e,o),localStorage.setItem(`${e}__expires__`,Date.now()+n+""),t},get(e){const t=Date.now(),n=localStorage.getItem(`${e}__expires__`)||t+1;if(t>=n){this.remove(e);return}return localStorage.getItem(e)},remove(e){localStorage.removeItem(e),localStorage.removeItem(`${e}__expires__`)}};function J(e,t){return e.then(n=>[null,n]).catch(n=>(t&&Object.assign(n,t),[n,void 0]))}const An=e=>e?e<1e4?""+e:Math.floor(e/1e4)+"\u4E07":0,Bn=()=>{},Ce=e=>_t(e).format("mm:ss"),Ln=e=>{const t=e.split(":"),n=Number(t[0]),o=Number(t[1]),a=n*60+o;return Number.isNaN(a)?0:a*1e3},Q=(e,t=200,n)=>`${e}?param=${t}y${n||t}`,In=e=>{const{id:t,name:n,duration:o,album:a,artists:r}=e;return{id:t,name:n,dt:o,al:a,ar:r}},cr=e=>{const{id:t,name:n,duration:o,album:a,artists:r}=e;return{id:t,name:n,dt:o,al:a,ar:r}};function S(e,t){return function(n){const o=e+(n?"__"+n:"");return t?t[o]:o}}function de(e){return e==null?void 0:e.replace(/^http(?!s)/,t=>`${t}s`)}const Re=l.exports.forwardRef(({children:e,className:t},n)=>{const o=S("scrollbar",kn);return s("div",{ref:n,className:L(o(),t),children:s("div",{className:o("content"),children:e})})}),On="_login_guh86_1",Tn="_login__mask_guh86_16",Pn="_login__img_guh86_24",Rn="_login__form_guh86_28",Mn="_login__btn_guh86_51",$n="_login__register_guh86_65";var zn={login:On,login__mask:Tn,login__img:Pn,login__form:Rn,"login__form-item":"_login__form-item_guh86_37",login__btn:Mn,login__register:$n},Vn="svg/login-5a53f576.svg";const ue=(e="\u63A5\u53E3\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E")=>(W.error(e),Promise.reject()),jn="http://47.100.62.108:4000/",Ee=[],X=()=>{Ee.forEach(e=>{e()}),Ee.length=0},qn=e=>{const t={400:"\u8BF7\u6C42\u9519\u8BEF(400)",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)",403:"\u62D2\u7EDD\u8BBF\u95EE(403)",404:"\u8BF7\u6C42\u51FA\u9519(404)",408:"\u8BF7\u6C42\u8D85\u65F6(408)",500:"\u670D\u52A1\u5668\u9519\u8BEF(500)",501:"\u670D\u52A1\u672A\u5B9E\u73B0(501)",502:"\u7F51\u7EDC\u9519\u8BEF(502)",503:"\u670D\u52A1\u4E0D\u53EF\u7528(503)",504:"\u7F51\u7EDC\u8D85\u65F6(504)",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)",0:`\u8FDE\u63A5\u51FA\u9519(${e})!`};return`${t[e]||t[0]}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},fe=Ae.create({baseURL:jn,timeout:1e4,headers:{"Content-Type":"application/json"},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=$.parse(e)),e)]});fe.interceptors.request.use(e=>{e.cancelToken=new Ae.CancelToken(n=>{Ee.push(n)});const t=Pe.get("userInfo");if(t){const n=$.parse(t);e.url=e.url+"?cookie="+n.cookie}return e},ue);fe.interceptors.response.use(async e=>{const t=e.status;return t<200||t>=300?ue(qn(t)):e.data.code===200?e.data:ue(e.data.message)},e=>Ae.isCancel(e)?new Promise(Bn):ue());const m=(e,t,n)=>fe.get(e,V(E({},n),{params:t})),Un=(e,t,n)=>fe.post(e,t,n),Hn=e=>Un("/login/cellphone",e),Jn=e=>m("/user/playlist",{uid:e}),ur=()=>m("/banner"),dr=()=>m("/dj/banner"),_r=e=>m("/personalized",e),mr=e=>m("/personalized/privatecontent/list",e),pr=()=>m("/personalized/mv"),hr=()=>m("/album/newest"),gr=(e=6)=>m("/dj/toplist",{limit:e}),Gn=e=>m("/song/url",{id:e}),Yn=e=>m("/lyric",{id:e}),Kn=()=>m("/personal_fm"),Zn=(e,t=0)=>m("/comment/music",{id:e,offset:t}),fr=(e,t=0)=>m("/comment/playlist",{id:e,offset:t}),yr=()=>m("/playlist/hot"),vr=()=>m("/playlist/catlist"),br=({offset:e,limit:t,cat:n})=>m("/top/playlist",{cat:n,offset:e,limit:t}),Cr=()=>m("/dj/catelist"),Er=(e=5)=>m("/dj/personalize/recommend",{limit:e}),wr=(e=0,t=4)=>m("/dj/paygift",{offset:e,limit:t}),xr=e=>m("/user/audio",{uid:e}),Sr=e=>m("/dj/recommend/type",{type:e}),Fr=()=>m("/toplist"),Qn=e=>m("/playlist/detail",{id:e}),Dr=e=>m("/artist/list",e),Nr=e=>m("/top/song",{type:e}),kr=e=>m("/top/album",e),Ar=()=>m("/video/category/list"),Br=(e,t=0)=>m("/video/group",{id:e,offset:t}),Lr=(e,t=6)=>m("/mv/first",{area:e,limit:t}),Ir=(e=6)=>m("/mv/all",{limit:e}),Or=(e=6)=>m("/mv/exclusive/rcmd",{limit:e}),Tr=(e,t=10)=>m("/top/mv",{area:e,limit:t}),Pr=()=>m("/dj/sublist"),Rr=()=>m("/album/sublist"),Mr=()=>m("/artist/sublist"),$r=()=>m("/mv/sublist"),Wn=e=>m("/simi/playlist",{id:e}),Xn=e=>m("/simi/song",{id:e}),es=e=>m("/song/detail",{ids:e}),ts=()=>m("/search/hot/detail"),zr=({id:e,offset:t,limit:n=20})=>m("/playlist/subscribers",{id:e,offset:t,limit:n}),ns=e=>m("/search/suggest",{keywords:e}),Vr=e=>m("/search",e),jr=e=>m("/search/multimatch",{keywords:e}),qr=e=>m("/artist/detail",{id:e}),Ur=e=>m("/artist/top/song",{id:e}),Hr=e=>m("/artist/album",{id:e}),Jr=e=>m("/artist/desc",{id:e}),ss=e=>m("/album",{id:e}),Gr=e=>m("/artist/mv",{id:e}),Yr=e=>m("/simi/artist",{id:e}),Kr=e=>m("/album/detail/dynamic",{id:e}),Zr=(e,t=0)=>m("/comment/album",{id:e,offset:t}),Qr=e=>m("/user/detail",{uid:e}),Wr=()=>m("/recommend/songs"),Xr=(e,t=0)=>m("/comment/video",{id:e,offset:t}),ea=e=>m("/video/detail",{id:e}),ta=e=>m("/video/url",{id:e}),na=e=>m("/related/allvideo",{id:e}),sa=()=>m("/video/group/list"),oa=(e=0)=>m("/video/timeline/all",{offset:e}),ra=e=>m("/dj/detail",{rid:e}),aa=e=>m("/dj/program",{rid:e}),ia=(e,t)=>m("/dj/subscriber",{id:e,time:t}),os=e=>m("/comment/dj",{id:e}),la=e=>m("/mv/url",{id:e}),ca=e=>m("/mv/detail",{mvid:e}),ua=e=>m("/mv/detail/info",{mvid:e}),da=(e,t=0)=>m("/comment/mv",{id:e,offset:t}),_a=(e,t)=>m("/user/cloud",{offset:e,limit:t}),ma=()=>m("/playlist/highquality/tags"),pa=(e,t=1,n)=>m("/top/playlist/highquality",{cat:e,limit:t,before:n}),ha=(e,t,n)=>m("/dj/radio/hot",{cateId:e,offset:t,limit:n});var yt="svg/avatar-86c9b0fc.svg";const vt=e=>"userInfo"+e?`/${e}`:"",_e=Y(vt("set"),async({phone:e,password:t},{rejectWithValue:n})=>{const[o,a]=await J(Hn({phone:e,password:t}));if(o||!a)return n(null);const u=a,{code:r}=u,i=H(u,["code"]);return r===200?i:n(null)}),{reducer:rs,actions:as}=se({name:vt(),initialState:{cookie:"",profile:{avatarUrl:yt,nickname:"\u672A\u767B\u5F55",userId:0,description:""}},reducers:{setUserInfoFromCache(e,t){return E(E({},e),t.payload)}},extraReducers(e){e.addCase(_e.fulfilled,(t,n)=>E(E({},t),n.payload)),e.addCase(_e.rejected,t=>(W.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),t))}}),{setUserInfoFromCache:is}=as,bt=e=>"userPlaylist"+e?`/${e}`:"",ls={playlist:[]},me=Y(bt("set"),async(e,{rejectWithValue:t})=>{const[n,o]=await J(Jn(e));if(n||!o)return t(null);const i=o,{code:a}=i,r=H(i,["code"]);return a===200?r:t(null)}),{reducer:cs}=se({name:bt(),initialState:ls,reducers:{},extraReducers(e){e.addCase(me.fulfilled,(t,n)=>E(E({},t),n.payload)),e.addCase(me.rejected,t=>(W.error("\u83B7\u53D6\u6B4C\u5355\u5217\u8868\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),t))}});var Z=(e=>(e[e.IN_TURN=0]="IN_TURN",e[e.LOOP=1]="LOOP",e[e.SOLO=2]="SOLO",e[e.RANDOM=3]="RANDOM",e))(Z||{}),us=(e=>(e[e.SONG=1]="SONG",e[e.SINGER=100]="SINGER",e[e.ALBUM=10]="ALBUM",e[e.VIDEO=1014]="VIDEO",e[e.PLAYLIST=1e3]="PLAYLIST",e[e.LYRIC=1006]="LYRIC",e[e.RADIO=1009]="RADIO",e[e.USER=1002]="USER",e))(us||{});const oe=e=>`currentTrack/${e}`,Ge=localStorage.getItem("currentTrack"),ds=Ge?$.parse(Ge):{current:-1,tracks:[],fm:[],autoPlay:!0},pe=Y(oe("setSong"),async(e,{rejectWithValue:t})=>{const[n,o]=await J(Gn(e));if(n||!o)return t(null);const{code:a,data:r}=o;return a===200?r.length===0||!r[0].url?(W.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<"),t(null)):r[0]:t(null)}),we=Y(oe("setFM"),async(e,{rejectWithValue:t})=>{const[n,o]=await J(Kn());if(n||!o)return t(null);const{code:a,data:r}=o;return a===200&&r.length?{init:e,data:r}:t(null)}),he=Y(oe("nextFM"),async(e,{getState:t,dispatch:n,rejectWithValue:o})=>{const a=t(),{currentTrack:r}=a,{fm:i,current:u}=r,_=E({},r),h=i.length;if(h===u+1){const[p]=await J(n(we(!1)));if(p)return o(null)}return _.current++,_.current%=h,_}),xe=Y(oe("insertSong"),async(e,{rejectWithValue:t,dispatch:n})=>{const[o,a]=await J(Promise.all([es(e),n(pe(e))]));return o||!(a!=null&&a[0])?t(null):a[0]}),Ye=Y(oe("fetchAndSetCurrentTrack"),async(e,{rejectWithValue:t,dispatch:n})=>{let o,a;typeof e=="number"?o=e:(o=e.id,a=e.isAlbum);let r;if(a){const[i,u]=await J(ss(o));if(i||!u)return t(null);r=u.songs}else{const[i,u]=await J(Qn(o));if(i||!u)return t(null);r=u.playlist.tracks}n(ps({current:0,tracks:r,fm:[]}))}),{reducer:_s,actions:ms}=se({name:"currentTrack",initialState:ds,reducers:{setAutoPlay(e,t){const n=E({},e);return n.autoPlay=t.payload,n},setCurrentTrack(e,t){const u=e,{cacheCurrent:n}=u,o=H(u,["cacheCurrent"]),{current:a,tracks:r,fm:i}=t.payload;return i.length=0,V(E({},o),{current:a,tracks:r,fm:i,autoPlay:!0})},changeSong(e,t){const{tracks:n,current:o}=e,a=h=>Math.floor((h-1)*Math.random()),r=[],i=h=>{const{mode:p,next:f}=t.payload,g=n.length;let d;return p===Z.RANDOM?d=a(g):(d=f?h+1:h-1,d<0&&(d+=g),d%=g),r.includes(d)||r.push(d),n[d].disable&&r.length<n.length&&(d=i(d)),d},u=i(o),_=E({},e);return _.current=u,_.autoPlay=!0,_},changeCurrent(e,t){const n=E({},e);return n.current=t.payload,n.autoPlay=!0,n}},extraReducers(e){const t=n=>n;e.addCase(pe.fulfilled,(n,o)=>V(E({},n),{song:o.payload})),e.addCase(pe.rejected,n=>E({},n)),e.addCase(we.fulfilled,(n,o)=>{const a=E({},n),{init:r,data:i}=o.payload;return a.fm=i,r&&(a.cacheCurrent=a.current),a.current=0,a.autoPlay=!0,a}),e.addCase(we.rejected,t),e.addCase(he.fulfilled,n=>{const o=E({},n);return o.current++,o}),e.addCase(he.rejected,t),e.addCase(xe.fulfilled,(n,o)=>{const a=E({},n);a.fm=[],a.tracks=[...a.tracks];let r=!1;return o.payload.songs.forEach(i=>{a.tracks.find(u=>i.id===u.id)||(a.tracks.push(i),r=!0)}),r&&(a.current=a.tracks.length-1),a.autoPlay=!0,a}),e.addCase(xe.rejected,t),e.addCase(Ye.fulfilled,n=>{const o=E({},n);return o.autoPlay=!0,o}),e.addCase(Ye.rejected,t)}}),{setCurrentTrack:ps,changeSong:Ke,changeCurrent:hs}=ms,Ze=localStorage.getItem("controller"),gs=Ze?$.parse(Ze):{playMode:Z.IN_TURN,pause:!0,currentTime:0,showDetail:!1,keywords:""},{reducer:fs,actions:ys}=se({name:"controller",initialState:gs,reducers:{setPlayMode(e,t){const n=E({},e);return n.playMode=t.payload,n},setPause(e,t){const n=E({},e);return n.pause=t.payload,n},setCurrentTime(e,t){const n=E({},e);return n.currentTime=t.payload,n},setShowDetail(e,t){const n=E({},e);return n.showDetail=t.payload,n},setKeywords(e,t){const n=E({},e);return n.keywords=t.payload,n},setController(e,t){return E(E({},e),t.payload)}}}),{setPlayMode:vs,setPause:Ct,setCurrentTime:Se,setShowDetail:Me,setKeywords:Et,setController:ga}=ys,Qe=localStorage.getItem("currentTrack"),bs=Qe?$.parse(Qe):{},{reducer:Cs,actions:Es}=se({name:"djDetail",initialState:bs,reducers:{setDJDetail(e,t){return t.payload}}}),{setDJDetail:fa}=Es,Fe=Lt({reducer:{user:rs,userPlaylist:cs,currentTrack:_s,controller:fs,djDetail:Cs}}),ws=({setShowLogin:e})=>{const t=S("login",zn),n=document.getElementById("portal"),[o,a]=l.exports.useState(""),[r,i]=l.exports.useState(""),u=R(),_=p=>{p.stopPropagation(),e(!1)},h=async p=>{if(p.preventDefault(),!o||!r)return;const f=await u(_e({phone:o,password:r}));if(_e.fulfilled.match(f)){Pe.set("userInfo",f.payload);const{userId:g}=f.payload.profile;u(me(g)),e(!1),W.success("\u767B\u5F55\u6210\u529F\uFF5E")}};return ne.exports.createPortal(s("div",{className:t("mask"),children:c("form",{className:t(),children:[s(Be,{onClick:_}),s("img",{className:t("img"),src:Vn,alt:"login"}),c("div",{className:t("form"),children:[s("div",{className:t("form-item"),children:s("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",value:o,onChange:p=>a(p.target.value)})}),s("div",{className:t("form-item"),children:s("input",{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",value:r,onChange:p=>i(p.target.value)})})]}),s("button",{type:"submit",className:t("btn"),onClick:h,children:"\u767B\u5F55"})]})}),n)},xs=()=>{const e=S("sidebar",Je),[t,n]=l.exports.useState(),{push:o}=G(),{pathname:a}=ke(),[r,i]=l.exports.useState(!1),{profile:u,cookie:_}=k(C=>C.user),h=k(C=>C.userPlaylist.playlist),p=R(),f=[{menus:[{name:"\u53D1\u73B0\u97F3\u4E50",icon:ce,path:b.findMusic},{name:"\u79C1\u4EBAFM",icon:qe,path:b.fm},{name:"\u89C6\u9891",icon:It,path:b.video,loginShow:!0},{name:"\u670B\u53CB",icon:qe,path:b.friend}]},{title:"\u6211\u7684\u97F3\u4E50",menus:[{name:"iTunes\u97F3\u4E50",icon:ce,path:b.iTunes},{name:"\u4E0B\u8F7D\u7BA1\u7406",icon:Ot,path:b.download},{name:"\u6700\u8FD1\u64AD\u653E",icon:Tt,path:b.recent},{name:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",icon:Pt,path:b.cloudMusic,loginShow:!0},{name:"\u6211\u7684\u7535\u53F0",icon:Rt,path:b.radio,loginShow:!0},{name:"\u6211\u7684\u6536\u85CF",icon:mt,path:b.collection,loginShow:!0}]},{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[{name:"\u6211\u559C\u6B22\u7684\u97F3\u4E50",icon:Le,path:B.list("")}]}],[g,d]=l.exports.useReducer(D,f),v=({menu:C,index:F})=>{const A=z(t,F);return c("div",{className:L(e("item"),{[Je["--active"]]:A}),onClick:()=>N({menu:C,index:F}),children:[s(C.icon,{}),s("a",{children:C.name})]},C.path)};function D(C,F){return[...C.slice(0,2),...F]}function N({menu:C,index:F}){n(F),o(C.path)}function y(){i(!0)}function x(){const C=Pe.get("userInfo");if(!C)return;const F=$.parse(C);p(is(F));const{userId:A}=F.profile;p(me(A))}function M(){for(let C=0,F=g.length;C<F;C++){const{menus:A}=g[C];for(let O=0,ee=A.length;O<ee;O++){const te=A[O];if(a.includes(te.path))return[C,O]}}}function z(C,F){if(!C||!F||C.length!==C.length)return!1;for(let A=0,O=C.length;A<O;A++)if(C[A]!==F[A])return!1;return!0}function q(C,F){if(!!C.title)return s("div",{className:e("title"),children:F<2?C.title:c(P,{children:[c("div",{className:e("title-left"),children:[s($t,{}),s("strong",{children:C.title})]}),C.title==="\u521B\u5EFA\u7684\u6B4C\u5355"&&s(pt,{className:e("title-right")})]})})}function T(){_?o({pathname:B.user(u.userId),state:!0}):i(!0)}return l.exports.useEffect(()=>{const C=M();n(C)},[a]),l.exports.useEffect(()=>{x()},[]),l.exports.useEffect(()=>{const C=[{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[]},{title:"\u6536\u85CF\u7684\u6B4C\u5355",menus:[]}];!h||h.length===0||(h.forEach(F=>{const{name:A,id:O,userId:ee}=F,te=B.list(O),re={name:A,path:te,icon:ce},ye=ee===u.userId?0:1;C[ye].menus.push(re)}),d(C))},[h]),c("aside",{className:e(),children:[c("header",{className:e("header"),children:[s("img",{src:de(Q(u.avatarUrl,100)),alt:"icon",onClick:T}),s("strong",{onClick:y,children:u.nickname}),s(Mt,{onClick:y})]}),s(Re,{className:e("main"),children:g.map((C,F)=>c("div",{children:[q(C,F),C.menus.map((A,O)=>_||!A.loginShow?s(v,{menu:A,index:[F,O]},O):null)]},F))}),r&&s(ws,{setShowLogin:i})]})},Ss="_footer_oumu4_1",Fs="_footer__left_oumu4_30",Ds="_footer__right_oumu4_58",Ns="_footer__lyric_oumu4_62",ks="_footer__mid_oumu4_72",As="_footer__volume_oumu4_103";var j={footer:Ss,"footer__progress-bar":"_footer__progress-bar_oumu4_14",footer__left:Fs,"footer__left-name":"_footer__left-name_oumu4_42",footer__right:Ds,footer__lyric:Ns,"--active":"_--active_oumu4_69",footer__mid:ks,"--big":"_--big_oumu4_87","--medium":"_--medium_oumu4_90","--red":"_--red_oumu4_93","--disable":"_--disable_oumu4_96",footer__volume:As};const Bs=(e,t)=>{const n=k(i=>i.controller.pause),o=R(),a=l.exports.useMemo(()=>n?zt:Vt,[n]);function r(i){!t||o(Ct(i))}return l.exports.useEffect(()=>{!(e!=null&&e.current)||(n?e.current.pause():e.current.play())},[n]),{PlayIcon:a,pause:n,handlePause:r}},Ls=(e,t,n)=>{const o=k(u=>u.controller.currentTime),a=R();return{currentTime:o,handleTimeUpdate:()=>{!(e!=null&&e.current)||a(Se(e.current.currentTime*1e3))},handleProgressClick:u=>{if(!(t!=null&&t.current)||!(e!=null&&e.current)||!n)return;const{pageX:_}=u,{left:h,width:p}=t.current.getBoundingClientRect(),f=(_-h)/p*n/1e3;e.current.currentTime=f,a(Se(f))}}},Is=()=>{const e=k(r=>r.controller.playMode),t=R(),n=[{key:"inTurn",tip:"\u987A\u5E8F\u64AD\u653E",icon:jt},{key:"loop",tip:"\u5FAA\u73AF\u64AD\u653E",icon:qt},{key:"solo",tip:"\u5355\u66F2\u5FAA\u73AF",icon:Ut},{key:"random",tip:"\u968F\u673A\u64AD\u653E",icon:Ht}],o=l.exports.useMemo(()=>n[e],[e]);return{playMode:e,handleIconClick:()=>{const r=e===3?0:e+1;t(vs(r))},currentPlayMode:o}},Os=()=>{const e=l.exports.useRef(null),[t,n]=l.exports.useState(!1);return{listButtonRef:e,showList:t,setShowList:n}},Ts=()=>{const[e,t]=l.exports.useState(!1);return{lyricActive:e,setLyricActive:t}},Ps=e=>{const[t,n]=l.exports.useState(100);return{volume:t,setVolume:n,handleVolumeChange:r=>{n(r.currentTarget.volume*100)},handleSliderChange:r=>{!(e!=null&&e.current)||(e.current.volume=r/100)}}},Rs="_fold_7eol0_1";var We={"music-detail":"_music-detail_7eol0_1",fold:Rs,"music-detail__shim":"_music-detail__shim_7eol0_14","--show":"_--show_7eol0_31","music-detail__player":"_music-detail__player_7eol0_34","music-detail__info":"_music-detail__info_7eol0_41","music-detail__comment":"_music-detail__comment_7eol0_46"};const Ms="_cover_j60n2_1",$s="_cover__inner_j60n2_11",zs="_rotate_j60n2_1";var Xe={cover:Ms,cover__inner:$s,"--animate":"_--animate_j60n2_17",rotate:zs};const Vs="_img_pj7a2_1",js="_img__play_pj7a2_11",qs="_img__loading_pj7a2_31",Us="_img__count_pj7a2_39";var ie={img:Vs,img__play:js,"--center":"_--center_pj7a2_18","--bottom":"_--bottom_pj7a2_23","--show":"_--show_pj7a2_28",img__loading:qs,img__count:Us};const Hs="_icon_fxwxv_1",Js="_icon__play_fxwxv_11",Gs="_icon__pause_fxwxv_19";var et={icon:Hs,icon__play:Js,icon__pause:Gs,"--small":"_--small_fxwxv_23","--medium":"_--medium_fxwxv_28","--big":"_--big_fxwxv_33","--large":"_--large_fxwxv_38","--giant":"_--giant_fxwxv_43"};const Ys=e=>{const t=S("icon",et),i=e,{type:n="play",size:o,className:a}=i,r=H(i,["type","size","className"]);return s("span",V(E({className:L(et[`--${o}`],a,t()),tabIndex:-1},r),{children:n==="play"?s("span",{className:t("play")}):s("span",{className:t("pause"),children:"| |"})}))},ge=({alt:e="",banLoading:t=!1,style:n,className:o,src:a,icon:r=!1,count:i,onClick:u,onIconClick:_})=>{const h=S("img",ie),p=l.exports.useRef(null),[f,g]=l.exports.useState(!1),[d,v]=l.exports.useState(!0),[D,N]=l.exports.useState(!1),y=l.exports.useMemo(()=>{const z={size:"small",placement:"center",hoverDisplay:!1};return r===!1?!1:r===!0?z:E(E({},z),r)},[r]),x=new IntersectionObserver(z=>{z.forEach(q=>{var T;q.isIntersecting&&p&&((T=p.current)==null?void 0:T.style)&&g(!0)})});function M(){v(!1)}return l.exports.useEffect(()=>{if(!!p.current)return x.observe(p.current),()=>{!p.current||(x.unobserve(p.current),x.disconnect())}},[]),c("div",{ref:p,className:L(h(),o),style:n,children:[f&&s("img",{src:de(a),alt:e,onLoad:M,onMouseMove:()=>N(!0),onMouseLeave:()=>N(!1),onClick:u}),!t&&d&&s(Jt,{className:h("loading")}),!d&&y&&s(Ys,{size:y.size,className:L(h("play"),ie[`--${y.size}`],ie[`--${y.placement}`],{[ie["--show"]]:!y.hoverDisplay||D}),onMouseMove:()=>N(!0),onClick:_}),i&&c("div",{className:h("count"),children:[s(Ie,{}),i]})]})},Ks=({img:e,pause:t})=>{const n=S("cover",Xe);return s(P,{children:s("div",{className:n(),children:s(ge,{className:L(n("inner"),{[Xe["--animate"]]:!t}),src:Q(e,300)})})})};var Zs={"button-group":"_button-group_ervze_1","button-group__item":"_button-group__item_ervze_6"};const Qs=({data:e})=>{const t=S("button-group",Zs);return s("ul",{className:t(),children:e.map((n,o)=>s("li",{className:t("item"),onClick:n.event,children:s(n.icon,{})},o))})},Ws="_lyric_19q8r_1",Xs="_lyric__quality_19q8r_19",eo="_lyric__info_19q8r_30",to="_lyric__wrapper_19q8r_46",no="_lyric__question_19q8r_69",so="_lyric__anchor_19q8r_81",oo="_lyric__container_19q8r_84";var tt={lyric:Ws,"lyric__music-name":"_lyric__music-name_19q8r_12",lyric__quality:Xs,lyric__info:eo,lyric__wrapper:to,"--selected":"_--selected_19q8r_65",lyric__question:no,lyric__anchor:so,lyric__container:oo};const ro=({music:e})=>{const t=S("lyric",tt),[n,o]=l.exports.useState([]),a=k(f=>f.controller.currentTime),r=l.exports.useRef(null),[i,u]=l.exports.useState(0),{push:_}=G();function h(f){const g=[];return f.split(`
`).forEach(v=>{v.replace(/\[(.*?)\](.*)(\[.*?\])?/,(D,N,y)=>{const x=[Ln(N)];return!y||!y.trim()||g.push({timestamp:x,value:y}),""})}),g}function p(){var D,N;if(!(r!=null&&r.current))return;const f=n.length;if(i===f-1)return;const g=r.current;let d=0;for(let y=i;y<f;y++)if(!!((N=(D=n[y])==null?void 0:D.timestamp)!=null&&N[0])&&a<=n[y].timestamp[0]){u(y-1),d=y-1;break}const v=44*d*window.innerWidth/1e3;d!==i&&g.scrollTo({top:v,behavior:"smooth"})}return l.exports.useEffect(()=>{var f;if(!!(e!=null&&e.id))return(f=r.current)==null||f.scrollTo({top:0}),u(0),Yn(e.id).then(g=>{const{lrc:d,nolyric:v}=g;o(v?[]:h(d.lyric))}),X},[e==null?void 0:e.id]),l.exports.useEffect(()=>{n.length&&p()},[a,n]),c("div",{className:t(),children:[c("h2",{children:[s("span",{className:t("music-name"),children:e==null?void 0:e.name}),s("span",{className:t("quality"),children:"\u6807\u51C6\u97F3\u8D28"})]}),c("div",{className:t("info"),children:[c("p",{children:[s("span",{children:"\u4E13\u8F91\uFF1A"}),s("a",{onClick:()=>_(B.list(e.album.id,"album")),children:e==null?void 0:e.album.name})]}),c("p",{children:[s("span",{children:"\u6B4C\u624B\uFF1A"}),e==null?void 0:e.artists.map(f=>s("a",{className:t("anchor"),onClick:()=>_(B.singer(f.id)),children:f.name},f.name))]})]}),s("div",{className:t("container"),children:n.length>0?s(Re,{ref:r,className:t("wrapper"),children:n.map((f,g)=>s("p",{className:L({[tt["--selected"]]:g===i}),children:f.value},g))}):s("span",{children:"\u7EAF\u97F3\u4E50\uFF0C\u8BF7\u60A8\u6B23\u8D4F"})}),s(Gt,{className:t("question")})]})},ao="_comments_1stot_1",io="_comments__left_1stot_9",lo="_comments__img_1stot_12",co="_comments__right_1stot_18",uo="_comments__info_1stot_34",_o="_comments__icons_1stot_39",mo="_comments__icon_1stot_39";var nt={comments:ao,comments__left:io,comments__img:lo,comments__right:co,"--mentioned":"_--mentioned_1stot_21",comments__info:uo,comments__icons:_o,comments__icon:mo};const st=({comment:e})=>{var r;const t=S("comments",nt),{push:n}=G(),o=[{icon:ht,value:e.likedCount},{icon:Yt},{icon:Kt}];function a(){n(B.user(e.user.userId))}return c("div",{className:t(),children:[s("div",{className:t("left"),children:s(ge,{className:t("img"),src:Q((e==null?void 0:e.user.avatarUrl)||yt,30),onClick:a})}),c("div",{className:t("right"),children:[c("p",{children:[c("a",{onClick:a,children:[e.user.nickname,"\uFF1A"]}),e.content]}),((r=e.beReplied)==null?void 0:r.length)>0&&s("p",{className:nt["--mentioned"],children:e.beReplied.map(i=>c("span",{children:[c("a",{onClick:()=>n(B.user(i.user.userId)),children:["@",i.user.nickname,"\uFF1A"]}),i.content]},i.beRepliedCommentId))}),c("div",{className:t("info"),children:[s("span",{children:_t(e.time).format("YYYY\u5E74M\u6708D\u65E5 HH:mm")}),s("div",{className:t("icons"),children:o.map((i,u)=>c("div",{className:t("icon"),children:[s(i.icon,{}),i.value&&i.value>0?s("strong",{children:i.value}):null]},u))})]})]})]})};var po={"comment-group__title":"_comment-group__title_1v435_1","comment-group__footer":"_comment-group__footer_1v435_5","comment-group__empty":"_comment-group__empty_1v435_11"};const ho=({id:e,functionChildren:t,api:n})=>{const o=S("comment-group",po),[a,r]=l.exports.useState([]),[i,u]=l.exports.useState([]),[_,h]=l.exports.useState(0),[p,f]=l.exports.useState(1);async function g(d,v=1,D=20){if(!d)return;const N=(v-1)*D,y=await n(d,N);r(y.comments),y.hotComments&&u(y.hotComments),h(y.total)}return l.exports.useEffect(()=>(e&&g(e),X),[e]),s("div",{className:o(),children:_>0?c(P,{children:[t==null?void 0:t(_),i.length>0&&c(P,{children:[s("h2",{className:o("title"),children:"\u7CBE\u5F69\u8BC4\u8BBA"}),i.map(d=>s(st,{comment:d},d.commentId))]}),a.length>0&&c(P,{children:[c("h2",{className:o("title"),children:["\u6700\u65B0\u8BC4\u8BBA\uFF08",_,"\uFF09"]}),a.map(d=>s(st,{comment:d},d.commentId))]}),_>20&&s("footer",{className:o("footer"),children:s(Zt,{total:_,showSizeChanger:!1,current:p,onChange:(d,v)=>{f(d),g(e,d,v)}})})]}):s("div",{className:o("empty"),children:"\u8FD8\u6CA1\u6709\u8BC4\u8BBA\uFF0C\u5FEB\u6765\u62A2\u6C99\u53D1\uFF5E"})})},go="_recommend_1byjg_1",fo="_recommend__title_1byjg_5",yo="_recommend__item_1byjg_12",vo="_recommend__img_1byjg_29";var bo={recommend:go,recommend__title:fo,recommend__item:yo,"recommend__item-info":"_recommend__item-info_1byjg_20",recommend__img:vo};const Co=({id:e})=>{const t=S("recommend",bo),[n,o]=l.exports.useState([]),[a,r]=l.exports.useState([]);async function i(){const _=await Wn(e);o(_.playlists)}async function u(){const _=await Xn(e);r(_.songs)}return l.exports.useEffect(()=>(i(),u(),X),[e]),c("div",{className:t(),children:[s("h2",{className:t("title"),children:"\u5305\u542B\u8FD9\u9996\u6B4C\u7684\u6B4C\u5355"}),n.map(_=>c("div",{className:t("item"),children:[s(ge,{className:t("img"),src:Q(_.coverImgUrl,100)}),c("div",{className:t("item-info"),children:[s("div",{children:_.name}),s("div",{children:An(_.playCount)})]})]},_.id)),s("h2",{className:t("title"),children:"\u76F8\u4F3C\u6B4C\u66F2"}),a.map(_=>c("div",{className:t("item"),children:[s(ge,{className:t("img"),src:Q(_.album.picUrl,100),icon:!0}),c("div",{className:t("item-info"),children:[s("div",{children:_.name}),s("div",{children:_.artists.reduce((h,p)=>`${h} ${p.name}`,"").slice(1)})]})]},_.id))]})};var Eo={"write-comment__title":"_write-comment__title_16b6h_1","write-comment__input":"_write-comment__input_16b6h_5"};const wo=({count:e})=>{const t=S("write-comment",Eo);return c(P,{children:[c("div",{className:t("title"),children:[s("strong",{children:"\u542C\u53CB\u8BC4\u8BBA"}),c("span",{children:["\uFF08\u5DF2\u6709",e,"\u6761\u8BC4\u8BBA\uFF09"]})]}),c("div",{className:t("input"),children:[c("span",{children:[s(Qt,{}),s("span",{style:{marginLeft:"5px"},children:"\u53D1\u8868\u8BC4\u8BBA"})]}),s("p",{children:"@"})]})]})},xo="_button_1iyu2_1",So="_button__left_1iyu2_10",Fo="_button__right_1iyu2_24";var le={button:xo,button__left:So,button__right:Fo,"--compose":"_--compose_1iyu2_34","--normal":"_--normal_1iyu2_41"};const Do=e=>{const t=S("button",le),u=e,{compose:n,children:o,className:a}=u,r=H(u,["compose","children","className"]),i=c(P,{children:[c("div",{className:t("left"),children:[s(Ie,{}),"\u64AD\u653E\u5168\u90E8"]}),s("div",{className:t("right"),children:s(pt,{})})]});return s("button",V(E({className:L(le.button,n?le["--compose"]:le["--normal"],a)},r),{children:n?i:o}))};var No={"radio-detail":"_radio-detail_11477_1","radio-detail__name":"_radio-detail__name_11477_8","radio-detail__detail":"_radio-detail__detail_11477_20","radio-detail__item":"_radio-detail__item_11477_25","radio-detail__tag":"_radio-detail__tag_11477_38","radio-detail__tag-wrapper":"_radio-detail__tag-wrapper_11477_49"};const ko=({music:e})=>{var o;const t=S("radio-detail",No),n=k(a=>a.djDetail);return c("div",{className:t(),children:[s("h2",{children:e.name}),c("div",{className:t("name"),children:[s("strong",{children:n==null?void 0:n.name}),c(Do,{children:[s(mt,{})," \u8BA2\u9605(",n.subCount,")"]})]}),c("div",{className:t("detail"),children:[c("div",{className:t("item"),children:[s("label",{children:"\u4E3B\u64AD:"}),s("a",{children:(o=n.dj)==null?void 0:o.nickname})]}),c("div",{className:t("item"),children:[s("label",{children:"\u6765\u6E90:"}),s("a",{children:n.original})]}),c("div",{className:t("item"),children:[s("label",{children:"\u521B\u5EFA\u65F6\u95F4:"}),s("span",{children:n.createTime})]}),c("div",{className:t("item"),children:[s("label",{children:"\u5DF2\u64AD\u653E:"}),c("span",{children:[n.playCount,"\u6B21"]})]})]}),c("div",{className:t("tag-wrapper"),children:[s("span",{className:t("tag"),children:n.category}),n.desc]})]})},Ao=({visible:e})=>{const t=S("music-detail",We),n=k(_=>_.controller.pause),o=R(),a=k(_=>{var h;return!((h=_.currentTrack.song)!=null&&h.flag)}),r=k(_=>{const{current:h,tracks:p,fm:f}=_.currentTrack;if(!(h<0||f.length>0)&&p[h])return u(p[h])}),i=[{icon:Le},{icon:Oe},{icon:Xt},{icon:en}];function u(_){const{name:h,id:p,dt:f,al:g,ar:d}=_;return{id:p,name:h,duration:f,album:g,artists:d}}return ne.exports.createPortal(c(P,{children:[e&&r&&s("div",{className:t("shim"),children:s(Wt,{onClick:()=>o(Me(!1))})}),r&&c("div",{className:L(t(),{[We["--show"]]:e}),children:[c("section",{className:t("player"),children:[c("div",{children:[s(Ks,{img:r.album.picUrl,pause:n}),s(Qs,{data:i})]}),a?s(ko,{music:r}):s(ro,{music:r})]}),c("div",{className:t("info"),children:[s(ho,{id:r==null?void 0:r.id,api:a?os:Zn,functionChildren:_=>s(wo,{count:_})}),!a&&s(Co,{id:r==null?void 0:r.id})]})]})]}),document.getElementById("music-detail"))};var ot={"music-list":"_music-list_qtnd1_1","--show":"_--show_qtnd1_15","music-list__header":"_music-list__header_qtnd1_18","music-list__subtitle":"_music-list__subtitle_qtnd1_28","music-list__subtitle-right":"_music-list__subtitle-right_qtnd1_33","music-list__subtitle-all":"_music-list__subtitle-all_qtnd1_38","music-list__subtitle-clear":"_music-list__subtitle-clear_qtnd1_44","music-list__total":"_music-list__total_qtnd1_52"};const Bo="_table_1ltg6_1",Lo="_table__cell_1ltg6_29";var be={table:Bo,"--active":"_--active_1ltg6_20","--disable":"_--disable_1ltg6_23",table__cell:Lo},Io="svg/no-music-ed6bb8c2.svg",Oo={"no-data":"_no-data_2e6x3_1","no-data__wrapper":"_no-data__wrapper_2e6x3_7"};const wt=({title:e,subTitle:t})=>{const n=S("no-data",Oo);return s("div",{className:n("wrapper"),children:c("div",{className:n(),children:[s("img",{src:Io,alt:"no-music"}),e&&s("h3",{children:e}),t&&s("div",{children:t})]})})},To=({columns:e,data:t,disableColumn:n="disable",noHead:o=!1,selectedRow:a,onDoubleClick:r})=>{const i=S("table",be),[u,_]=l.exports.useState(-1);function h(p){if(!!r){if(t[p][n]){W.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<");return}r(p)}}return l.exports.useEffect(()=>{a!==void 0&&_(a)},[a]),c(P,{children:[c("table",{className:i(),children:[s("colgroup",{}),!o&&s("thead",{children:s("tr",{children:e.map((p,f)=>s("th",{children:s("div",{className:i("cell"),children:p.title})},f))})}),s("tbody",{children:t.length>0?t.map((p,f)=>s("tr",{className:L({[be["--active"]]:u===f,[be["--disable"]]:p[n]}),onDoubleClick:()=>h(f),children:e.map((g,d)=>{let v;return g.render?v=g.render(p):g.key&&(v=yn(p,g.key),g.format&&(v=g.format(v))),s("td",{children:s("div",{className:i("cell"),children:v})},d)})},f)):null})]}),t.length>0?null:s(wt,{subTitle:"\u6682\u65E0\u6570\u636E"})]})},Po=({visible:e,setVisible:t,target:n})=>{const o=S("music-list",ot),a=R(),r=k(h=>h.currentTrack),i=l.exports.useRef(null),u=[{title:"\u97F3\u4E50\u6807\u9898",key:"name"},{title:"\u6B4C\u624B",render(h){return h.ar.map(p=>s("span",{children:p.name},p.id))}},{title:"\u94FE\u63A5\u5230",key:""},{title:"\u65F6\u957F",key:"dt",format:Ce}];function _(h){a(hs(h))}return ct(i,h=>{h.target!==(n==null?void 0:n.querySelector("svg"))&&t(!1)}),ne.exports.createPortal(c("div",{ref:i,className:L(o(),{[ot["--show"]]:e}),children:[c("header",{className:o("header"),children:[s("h2",{children:"\u5F53\u524D\u64AD\u653E"}),c("div",{className:o("subtitle"),children:[c("div",{className:o("total"),children:["\u603B",r.tracks.length,"\u9996"]}),c("div",{className:o("subtitle-right"),children:[c("span",{className:o("subtitle-all"),children:[s(tn,{}),"\u6536\u85CF\u5168\u90E8"]}),s("span",{className:o("subtitle-clear"),children:"\u6E05\u7A7A\u5217\u8868"})]})]})]}),s("section",{className:o("subtitle-table"),children:s(To,{noHead:!0,selectedRow:r.current,data:r.tracks,columns:u,onDoubleClick:_})})]}),document.getElementById("drawer"))},Ro=()=>{const e=S("footer",j),t=l.exports.useRef(null),n=l.exports.useRef(null),o=R(),{push:a}=G(),r=k(I=>I.controller.showDetail),i=k(I=>I.currentTrack.autoPlay||!1),{listButtonRef:u,showList:_,setShowList:h}=Os(),p=k(I=>I.currentTrack.fm.length),{lyricActive:f,setLyricActive:g}=Ts(),d=k(I=>{const{current:U,tracks:ve,fm:$e}=I.currentTrack;if(!(U<0)){if(!p)return ve[U];if($e[U])return In($e[U])}}),v=k(I=>{const{current:U,tracks:ve}=I.currentTrack;return U+1===ve.length}),D=k(I=>I.currentTrack.song),{PlayIcon:N,pause:y,handlePause:x}=Bs(t,d),{currentTime:M,handleTimeUpdate:z,handleProgressClick:q}=Ls(t,n,d==null?void 0:d.dt),{playMode:T,handleIconClick:C,currentPlayMode:F}=Is(),{volume:A,handleSliderChange:O,handleVolumeChange:ee}=Ps(t);function te(){if(p){o(he());return}!d||T!==Z.SOLO&&(T===Z.IN_TURN&&v?o(Se(0)):o(Ke({mode:T,next:!0})))}function re(I){if(!p&&d){o(Ke({mode:T,next:I}));return}I&&o(he())}function ye(){p&&a(b.fm),o(Me(!r))}return l.exports.useEffect(()=>(d!=null&&d.id&&o(pe(d.id)),X),[d==null?void 0:d.id]),c("footer",{className:e(),children:[(d==null?void 0:d.dt)&&s("progress",{ref:n,className:e("progress-bar"),value:M,max:d.dt,onClick:q}),s("div",{className:e("left"),children:d&&D&&c(P,{children:[s("audio",{ref:t,src:de(D.url),controls:!0,autoPlay:i,loop:T===Z.SOLO,onTimeUpdate:z,onPlay:()=>x(!1),onPause:()=>x(!0),onEnded:te,onVolumeChange:ee}),s("img",{src:de(Q(d.al.picUrl,100)),alt:"music",onClick:ye}),c("div",{className:e("left-name"),children:[c("div",{children:[d.name," -"," ",d.ar.reduce((I,U)=>`${I}/${U.name}`,"").slice(1)]}),c("div",{children:[Ce(M)," / ",Ce(d.dt)]})]})]})}),c("div",{className:e("mid"),children:[p?s(Le,{}):s(ht,{}),s(nn,{className:L(j["--medium"],j["--red"],{[j["--disable"]]:p}),onClick:()=>re(!1)}),s(N,{className:L(j["--big"],j["--red"]),onClick:()=>x(!y)}),s(sn,{className:L(j["--medium"],j["--red"]),onClick:()=>re(!0)}),p?s(Oe,{}):s(on,{})]}),c("div",{className:e("right"),children:[!p&&s(rn,{}),s(Ue,{title:F.tip,children:s(F.icon,{onClick:C})}),!p&&d&&s(gt,{ref:u,onClick:()=>h(!_)}),s("span",{className:L(e("lyric"),{[j["--active"]]:f}),onClick:()=>g(!f),children:"\u8BCD"}),d&&s(Ue,{title:()=>s("div",{className:e("volume"),children:s(an,{vertical:!0,value:A,onChange:O})}),children:s(ln,{})})]}),s(Ao,{visible:r}),s(Po,{visible:_,setVisible:h,target:u.current})]})};var Mo="svg/not-found-4a7109ca.svg",$o={"not-found":"_not-found_r5k7l_1"};const zo=()=>{const e=S("not-found",$o);return s("div",{className:e(),children:s("img",{src:Mo,alt:"404"})})},De=S("main"),Vo=({routes:e})=>{const{pathname:t}=ke(),n=R();function o(){const i=Fe.getState(),{cacheCurrent:u,current:_}=i.currentTrack;let h=_;u!==void 0&&(h=u),localStorage.setItem("djDetail",$.stringify(E({},i.djDetail))),localStorage.setItem("currentTrack",$.stringify(V(E({},i.currentTrack),{current:h,autoPlay:!1,fm:[]}))),localStorage.setItem("controller",$.stringify(V(E({},i.controller),{pause:!0})))}function a(i,u){if(i.code==="Space"){const _=document.activeElement;(!_||_===document.body)&&(i.stopPropagation(),i.preventDefault(),u==null||u())}}function r(i){a(i,()=>{const u=Fe.getState();n(Ct(!u.controller.pause))})}return l.exports.useEffect(()=>{n(Me(!1)),X()},[t]),l.exports.useEffect(()=>(window.addEventListener("beforeunload",o),document.addEventListener("keyup",r),document.addEventListener("keydown",a),()=>{window.removeEventListener("beforeunload",o),document.removeEventListener("keyup",r),document.removeEventListener("keydown",a)}),[]),c(P,{children:[c("section",{className:"container",children:[s(xs,{}),s(Re,{className:De(),children:s(l.exports.Suspense,{fallback:s(ft,{className:De("loading"),style:{position:"absolute"}}),children:c(ut,{children:[e&&e.map(i=>{const h=i,{component:u}=h,_=H(h,["component"]);return s(dt,V(E({},_),{render:p=>s(u,{},p.match.url)}),i.path)}),s(zo,{})]})})})]}),s(Ro,{})]})};var b=(e=>(e.root="/",e.home="/home",e.fm="/home/fm",e.searchResult="/home/search-result",e.dailyRecommend="/home/daily-recommend",e.findMusic="/home/find-music",e.findMusicMusicList="/home/find-music/music-list",e.findMusicRadioHost="/home/find-music/radio-host",e.findMusicRadioHostPay="/home/find-music/radio-host/pay",e.findMusicRank="/home/find-music/rank",e.findMusicSinger="/home/find-music/singer",e.findMusicNewest="/home/find-music/newest",e.video="/home/video",e.videoMV="/home/video/mv",e.friend="/home/friend",e.iTunes="/home/i-tunes",e.download="/home/download",e.downloadProgram="/home/download/program",e.downloadPendding="/home/download/pendding",e.recent="/home/recent",e.cloudMusic="/home/cloud-music",e.radio="/home/radio",e.collection="/home/collection",e.collectionSinger="/home/collection/singer",e.collectionVideo="/home/collection/video",e.collectionColumn="/home/collection/column",e.setting="/home/setting",e))(b||{});const Ne=e=>e?`/${e}`:"",K=(e,t,n="id")=>{const o=`/${e}`;return t===void 0?`${o}/:${n}?`:o+Ne(t)},rt=(e,t,n)=>t===void 0?`/${e}/:id?/:type?`:`/${e}${Ne(t)}${Ne(n)}`,B={list:(e,t)=>rt("home/list",e,t),singer:e=>K("home/singer",e),user:e=>K("home/user",e),findMusicNewest:e=>K("home/find-music/newest",e,"type"),playVideo:e=>K("play-video",e),radioList:(e,t)=>rt("home/radio-list",e,t),excellentList:e=>K("home/find-music/music-list/excellent",e),radioZone:e=>K("home/find-music/radio-host/zone",e,"type")},xt={"find-music":[{label:"\u4E2A\u6027\u63A8\u8350",component:l.exports.lazy(()=>w(()=>import("./index-4ee2d163.js"),["js/index-4ee2d163.js","css/index-e82747ee.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-1c3bd344.js","css/index-2692bf2f.css","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"])),path:b.findMusic,exact:!0},{label:"\u6B4C\u5355",component:l.exports.lazy(()=>w(()=>import("./index-94d790d8.js"),["js/index-94d790d8.js","css/index-ed8dc3ba.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-e8f2774d.js","css/index-e010c0aa.css","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"])),path:b.findMusicMusicList,exact:!0},{label:"\u4E3B\u64AD\u7535\u53F0",component:l.exports.lazy(()=>w(()=>import("./index-3385b489.js"),["js/index-3385b489.js","css/index-d2541e3d.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-1c3bd344.js","css/index-2692bf2f.css","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"])),path:b.findMusicRadioHost,exact:!0},{label:"\u6392\u884C\u699C",component:l.exports.lazy(()=>w(()=>import("./index-5313e2f5.js"),["js/index-5313e2f5.js","css/index-89bc3d52.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"])),path:b.findMusicRank},{label:"\u6B4C\u624B",component:l.exports.lazy(()=>w(()=>import("./index-6ab99d1c.js"),["js/index-6ab99d1c.js","css/index-11f2a020.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-60fb63ca.js","js/index-3f56dd29.js","css/index-65a24dfc.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.findMusicSinger},{label:"\u6700\u65B0\u97F3\u4E50",component:l.exports.lazy(()=>w(()=>import("./index-db903142.js"),["js/index-db903142.js","css/index-4765b247.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-60fb63ca.js","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"])),path:b.findMusicNewest}],video:[{label:"\u89C6\u9891",component:l.exports.lazy(()=>w(()=>import("./index-f2e289c2.js"),["js/index-f2e289c2.js","css/index-48ca44ee.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-82fcd55f.js","css/index-1fde7e75.css","js/index-3af61bbc.js","css/index-76ebda23.css","js/index-e8f2774d.js","css/index-e010c0aa.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.video,exact:!0},{label:"MV",component:l.exports.lazy(()=>w(()=>import("./index-532967a2.js"),["js/index-532967a2.js","css/index-db88c1c7.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-82fcd55f.js","css/index-1fde7e75.css","js/index-60fb63ca.js","js/index-3af61bbc.js","css/index-76ebda23.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.videoMV}],friend:[{label:"\u52A8\u6001",component:l.exports.lazy(()=>w(()=>import("./index-33464902.js"),["js/index-33464902.js","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.friend}],"i-tunes":[{label:"iTunes\u97F3\u4E50",component:l.exports.lazy(()=>w(()=>import("./index-7f730a5b.js"),["js/index-7f730a5b.js","css/index-63268595.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.iTunes}],download:[{label:"\u5DF2\u4E0B\u8F7D\u5355\u66F2",component:l.exports.lazy(()=>w(()=>import("./index-a798d048.js"),["js/index-a798d048.js","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-6ef4c02d.js","css/index-01c1781a.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.download,exact:!0},{label:"\u5DF2\u4E0B\u8F7D\u8282\u76EE",component:l.exports.lazy(()=>w(()=>import("./index-a22be3d1.js"),["js/index-a22be3d1.js","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-6ef4c02d.js","css/index-01c1781a.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.downloadProgram},{label:"\u6B63\u5728\u4E0B\u8F7D",component:l.exports.lazy(()=>w(()=>import("./index-562ab0e2.js"),["js/index-562ab0e2.js","css/index-1b65357d.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.downloadPendding}],recent:[{label:"\u6700\u8FD1\u64AD\u653E",component:l.exports.lazy(()=>w(()=>import("./index-211600ce.js"),["js/index-211600ce.js","css/index-985a0294.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.recent}],"cloud-music":[{label:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",component:l.exports.lazy(()=>w(()=>import("./index-abafebfe.js"),["js/index-abafebfe.js","css/index-09e80a50.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-60fb63ca.js","js/index-3f56dd29.js","css/index-65a24dfc.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.cloudMusic}],radio:[{label:"\u6211\u7684\u7535\u53F0",component:l.exports.lazy(()=>w(()=>import("./index-7194ec32.js"),["js/index-7194ec32.js","css/index-1be8b182.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-ccb123cd.js","css/index-6409d9b6.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.radio}],collection:[{label:"\u4E13\u8F91",component:l.exports.lazy(()=>w(()=>import("./index-aa6d9a9b.js"),["js/index-aa6d9a9b.js","css/index-19b552b8.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-ccb123cd.js","css/index-6409d9b6.css","js/index-24f91536.js","css/index-e45ef900.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.collection,exact:!0},{label:"\u6B4C\u624B",component:l.exports.lazy(()=>w(()=>import("./index-72de9231.js"),["js/index-72de9231.js","css/index-77191418.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-ccb123cd.js","css/index-6409d9b6.css","js/index-24f91536.js","css/index-e45ef900.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.collectionSinger},{label:"\u89C6\u9891",component:l.exports.lazy(()=>w(()=>import("./index-9bfdfbbc.js"),["js/index-9bfdfbbc.js","css/index-8ad9c84e.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-24f91536.js","css/index-e45ef900.css","js/index-3af61bbc.js","css/index-76ebda23.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.collectionVideo},{label:"\u4E13\u680F",component:l.exports.lazy(()=>w(()=>import("./index-dbff0229.js"),["js/index-dbff0229.js","css/index-0ddc6bf5.css","js/index-24f91536.js","css/index-e45ef900.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.collectionColumn}],setting:[{label:"\u8BBE\u7F6E",component:l.exports.lazy(()=>w(()=>import("./index-16fb491d.js"),["js/index-16fb491d.js","css/index-bf4b0459.css","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/react-1b56b61c.js","js/lodash-87ac67d6.js","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"])),path:b.setting}]},jo=[{path:b.home,exact:!0,component:Vo,routes:[{path:b.fm,component:l.exports.lazy(()=>w(()=>import("./index-61fb815c.js"),["js/index-61fb815c.js","css/index-f1cc5e9d.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"]))},{path:B.list(),component:l.exports.lazy(()=>w(()=>import("./index-321fea30.js"),["js/index-321fea30.js","css/index-7ac0ab9b.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/collector.module-c951668d.js","css/collector.module-7b8bb6c7.css","js/react-redux-6f2a0ace.js","js/write-comment-b563f850.js","css/write-comment-245ec406.css","js/index-60fb63ca.js","js/react-router-dom-1f34616f.js"]))},{path:B.singer(),component:l.exports.lazy(()=>w(()=>import("./index-1edad7d7.js"),["js/index-1edad7d7.js","css/index-f67a68db.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-1eb760ec.js","css/index-11494661.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"]))},{path:b.searchResult,component:l.exports.lazy(()=>w(()=>import("./index-2173c490.js"),["js/index-2173c490.js","css/index-0c6b5e41.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-a2d912de.js","css/index-91bec25c.css","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"]))},{path:B.user(),component:l.exports.lazy(()=>w(()=>import("./index-4450e8d1.js"),["js/index-4450e8d1.js","css/index-c753a929.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-a2d912de.js","css/index-91bec25c.css","js/index-1eb760ec.js","css/index-11494661.css","js/index-33ef77ed.js","css/index-69065f68.css","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"]))},{path:b.dailyRecommend,component:l.exports.lazy(()=>w(()=>import("./index-23fe320f.js"),["js/index-23fe320f.js","css/index-1e938c76.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-60fb63ca.js","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"]))},{path:B.findMusicNewest(),component:l.exports.lazy(()=>w(()=>import("./index-db903142.js"),["js/index-db903142.js","css/index-4765b247.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-60fb63ca.js","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"]))},{path:B.radioList(),component:l.exports.lazy(()=>w(()=>import("./index-008b25f5.js"),["js/index-008b25f5.js","css/index-b0d5c60f.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/collector.module-c951668d.js","css/collector.module-7b8bb6c7.css","js/index-3f56dd29.js","css/index-65a24dfc.css","js/react-redux-6f2a0ace.js","js/react-router-dom-1f34616f.js"]))},{path:B.excellentList(),component:l.exports.lazy(()=>w(()=>import("./index-cc81aa2e.js"),["js/index-cc81aa2e.js","css/index-50c1e96e.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-e8f2774d.js","css/index-e010c0aa.css","js/react-redux-6f2a0ace.js","js/index-3f56dd29.js","css/index-65a24dfc.css","js/react-router-dom-1f34616f.js"]))},{path:B.radioZone(),component:l.exports.lazy(()=>w(()=>import("./index-b6600e91.js"),["js/index-b6600e91.js","css/index-dcf2003d.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-3f56dd29.js","css/index-65a24dfc.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"]))},{path:b.findMusicRadioHostPay,component:l.exports.lazy(()=>w(()=>import("./index-17371b6a.js"),["js/index-17371b6a.js","css/index-b7759ce6.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/index-3f56dd29.js","css/index-65a24dfc.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"]))},...Object.values(xt).flat()]},{path:B.playVideo(),component:l.exports.lazy(()=>w(()=>import("./index-371233df.js"),["js/index-371233df.js","css/index-7240d91a.css","js/react-1b56b61c.js","js/vendor-e7a31927.js","css/vendor-e4c731b7.css","js/lodash-87ac67d6.js","js/write-comment-b563f850.js","css/write-comment-245ec406.css","js/react-router-dom-1f34616f.js","js/react-redux-6f2a0ace.js"]))}],qo="_header_1mmlg_1",Uo="_header__left_1mmlg_6",Ho="_header__right_1mmlg_21";var at={header:qo,header__left:Uo,"header__left-icon":"_header__left-icon_1mmlg_17",header__right:Ho,"header__right-menu":"_header__right-menu_1mmlg_29","--active":"_--active_1mmlg_35","header__right-wrapper":"_header__right-wrapper_1mmlg_53","header__right-icons":"_header__right-icons_1mmlg_57"};const Jo="_input_bex9z_1",Go="_input__icon_bex9z_35",Yo="_input__close_bex9z_46";var it={input:Jo,"--normal":"_--normal_bex9z_19","--transparent":"_--transparent_bex9z_25",input__icon:Go,input__close:Yo};const Ko=l.exports.forwardRef((r,a)=>{var i=r,{type:e="transparent",value:t="",setValue:n}=i,o=H(i,["type","value","setValue"]);const u=S("input",it),_=l.exports.useMemo(()=>!!t,[t]),h=f=>{n==null||n(f.currentTarget.value)};function p(){n==null||n("")}return c("div",{className:L(it[`--${e}`],u()),children:[s("input",V(E({},o),{value:t,ref:a,type:"text",onInput:h})),s("div",{className:u("icon"),children:s(cn,{})}),_&&s(Be,{className:u("close"),onClick:p})]})});var lt={"search-list":"_search-list_13cuv_1","--show":"_--show_13cuv_15"},Zo={"empty-suggestion__header":"_empty-suggestion__header_1a47l_1","empty-suggestion__header-delete":"_empty-suggestion__header-delete_1a47l_4","empty-suggestion__item":"_empty-suggestion__item_1a47l_17","empty-suggestion__item-top":"_empty-suggestion__item-top_1a47l_33","empty-suggestion__item-right":"_empty-suggestion__item-right_1a47l_54","empty-suggestion__item-bottom":"_empty-suggestion__item-bottom_1a47l_64","empty-suggestion__history":"_empty-suggestion__history_1a47l_78","empty-suggestion__history-item":"_empty-suggestion__history-item_1a47l_82","empty-suggestion__title":"_empty-suggestion__title_1a47l_110"};const Qo=({visible:e,setVisible:t})=>{const n=S("empty-suggestion",Zo),[o,a]=l.exports.useState([]),[r,i]=l.exports.useState([]),{push:u}=G(),_=R(),h=g=>{g.stopPropagation()};function p(g){_(Et(g)),t(!1);const d=Te.stringify({keywords:g});u(`${b.searchResult}?${d}`)}async function f(){const g=await ts();a(g.data)}return l.exports.useEffect(()=>{if(!e)return;const g=localStorage.getItem("search-history");return g&&i($.parse(g)),f(),X},[e]),c(P,{children:[r.length>0&&c("header",{className:n("header"),children:[c("h2",{children:["\u641C\u7D22\u5386\u53F2 ",s(Oe,{className:n("header-delete")})]}),s("div",{className:n("history"),children:r.map((g,d)=>c("div",{className:n("history-item"),onClick:()=>p(g),children:[g,s(Be,{onClick:h})]},d))})]}),s("h3",{className:n("title"),children:"\u70ED\u641C\u699C"}),o.map((g,d)=>c("div",{className:n("item"),onClick:()=>p(g.searchWord),children:[s("p",{children:d+1}),c("div",{className:n("item-right"),children:[c("div",{className:n("item-top"),children:[s("strong",{children:g.searchWord}),g.iconUrl?s("mark",{children:"HOT"}):null,s("span",{children:g.score})]}),g.content&&s("div",{className:n("item-bottom"),children:g.content})]})]},g.searchWord))]})};var Wo={"keyword-suggestion":"_keyword-suggestion_1d2pk_1","keyword-suggestion__header":"_keyword-suggestion__header_1d2pk_4","keyword-suggestion__title":"_keyword-suggestion__title_1d2pk_15","keyword-suggestion__item":"_keyword-suggestion__item_1d2pk_23"};const Xo=({setVisible:e})=>{var d;const t=S("keyword-suggestion",Wo),n=k(v=>v.controller.keywords),[o,a]=l.exports.useState({}),{push:r}=G(),i=R(),u={albums:{label:"\u4E13\u8F91",icon:Ie},artists:{label:"\u6B4C\u624B",icon:un},playlists:{label:"\u6B4C\u5355",icon:gt},songs:{label:"\u5355\u66F2",icon:ce}};function _(v,D){({artists:()=>r(B.singer(v)),songs:()=>i(xe(v)),albums:()=>r(B.list(v,"album")),playlists:()=>r(B.list(v))})[D](),e(!1)}function h(){e(!1);const v=Te.stringify({keywords:n});r(`${b.searchResult}?${v}`)}function p(v){const D=u[v],N=o[v];return c("div",{children:[c("div",{className:t("title"),children:[s(D.icon,{}),D.label]}),N==null?void 0:N.map(y=>f(y,v))]},D.label)}function f(v,D){const y={albums:()=>{const x=v;return`${x.name} - ${x.artist.name}`},artists:()=>v.name,playlists:()=>v.name,songs:()=>{var q;const x=v;let M=x.transNames||((q=x.alias)==null?void 0:q.join(" "))||"";M=M?`\uFF08${M}\uFF09`:"";const z=x.artists.reduce((T,C)=>`${T} ${C.name}`,"").slice(1);return`${x.name} ${M}- ${z}`}}[D];return s("div",{className:t("item"),onClick:()=>_(v.id,D),children:y()},v.id)}async function g(){const v=await ns(n);a(v.result)}return Nt(g,300,[n]),(d=o.order)!=null&&d.length?c("div",{className:t(),children:[s("header",{className:t("header"),children:c("span",{onClick:h,children:["\u641C\u201C",s("strong",{children:n}),"\u201D\u76F8\u5173\u7684\u7ED3\u679C >"]})}),o.order.map(p)]}):s(wt,{title:"\u6682\u65E0\u6570\u636E"})},er=({visible:e,setVisible:t,inputRef:n})=>{const o=S("search-list",lt),a=l.exports.useRef(null),r=k(i=>i.controller.keywords);return ct(a,i=>{i.target!==n&&t(!1)}),ne.exports.createPortal(s("div",{ref:a,className:L(o(),{[lt["--show"]]:e}),children:e?r&&r.trim()?s(Xo,{setVisible:t}):s(Qo,{visible:e,setVisible:t}):null}),document.getElementById("drawer"))},tr=()=>{const e=S("header",at),[t,n]=l.exports.useState(""),[o,a]=l.exports.useState([]),{pathname:r}=ke(),{go:i,push:u}=G(),[_,h]=l.exports.useState(!1),p=k(y=>y.controller.keywords),f=l.exports.useRef(null),g=R(),d=[{icon:mn,event:()=>{u(b.setting)}},{icon:pn},{icon:hn},{icon:gn}],v=y=>{if(y.key==="Enter"&&p){h(!1);const x=Te.stringify({keywords:p});u(`${b.searchResult}?${x}`)}};function D(y){g(Et(y))}function N(y=!1){i(y?1:-1)}return l.exports.useEffect(()=>{if(!r)return;const y=r.match(/home\/([\w-\d]+)\b/);y!=null&&y[1]&&a(xt[y[1]]||[]);let x=r.split("/");x.length>4&&(x=x.slice(0,4)),n(x.join("/"))},[r]),c("header",{className:e(),children:[c("div",{"data-tauri-drag-region":!0,className:e("left"),children:[s(dn,{className:e("left-icon"),onClick:()=>N()}),s(_n,{className:e("left-icon"),onClick:()=>N(!0)})]}),c("div",{"data-tauri-drag-region":!0,className:e("right"),children:[s("ul",{className:e("right-menu"),children:r.includes("/home")&&o.map(y=>s("li",{className:L({[at["--active"]]:y.path===t}),children:s(At,{to:y.path,onClick:()=>n(y.path),children:y.label})},y.path))}),c("div",{className:e("right-wrapper"),children:[s(Ko,{ref:f,type:"normal",placeholder:"\u641C\u7D22",value:p,setValue:D,onFocus:()=>h(!0),onKeyUp:v}),s("div",{className:e("right-icons"),children:d.map((y,x)=>s(y.icon,{onClick:y.event},x))})]})]}),s(er,{visible:_,setVisible:h,inputRef:f.current})]})},nr=()=>s(fn,{store:Fe,children:c(Bt,{children:[s(tr,{}),s(l.exports.Suspense,{fallback:s(ft,{className:De("loading"),style:{position:"absolute"}}),children:c(ut,{children:[s(kt,{from:b.root,to:b.findMusic,exact:!0}),jo.map(e=>s(dt,{path:e.path,children:s(e.component,E({},e))},e.path))]})})]})});ne.exports.render(s(l.exports.StrictMode,{children:s(nr,{})}),document.getElementById("root"));export{da as $,jr as A,Qs as B,ho as C,B as D,Qr as E,xr as F,Jn as G,Wr as H,Ys as I,Nr as J,Ye as K,ro as L,kr as M,cr as N,ia as O,ra as P,fa as Q,aa as R,us as S,To as T,ma as U,pa as V,wo as W,ha as X,Cr as Y,wr as Z,w as _,we as a,Xr as a0,ea as a1,ca as a2,ua as a3,ta as a4,la as a5,na as a6,b as a7,ur as a8,_r as a9,$r as aA,Gr as aB,Jr as aC,Yr as aD,Ur as aE,mr as aa,pr as ab,hr as ac,gr as ad,br as ae,vr as af,yr as ag,Sr as ah,dr as ai,Er as aj,Fr as ak,Dr as al,sa as am,Br as an,oa as ao,Ar as ap,Lr as aq,Ir as ar,Or as as,Tr as at,wt as au,Ko as av,_a as aw,Pr as ax,Rr as ay,Mr as az,X as b,S as c,ge as d,zr as e,Zr as f,Zn as g,fr as h,yt as i,Do as j,ps as k,ss as l,Kr as m,he as n,Qn as o,Ce as p,qr as q,Q as r,Ct as s,de as t,Hr as u,Vr as v,An as w,xe as x,Bn as y,Re as z};
