import{t as j,r as t,u as N,g as n,j as a}from"./react-db2799b6.js";import{d as H,D as J,c as v,X as b,Y as E}from"./index-2448f94e.js";import{I}from"./index-cb31d04d.js";import"./lodash-536b9069.js";import"./vendor-da34c035.js";import"./react-redux-a59d985d.js";import"./react-router-dom-66f75ae1.js";const k=()=>{const e=v("zone"),l=j(),i=t.exports.useMemo(()=>Number(l.type),[l.type]),[u,f]=t.exports.useState([]),[y,h]=t.exports.useReducer(D,[]),g=t.exports.useMemo(()=>{var s;return(s=u.find(o=>o.id===i))==null?void 0:s.name},[u,i]),d=t.exports.useRef(0),r=t.exports.useRef(null),p=20,{push:x}=N();async function R(){var c;const s=await b(i,d.current,p),o=d.current===0?"reset":"add";h({type:o,payload:s.djRadios}),d.current+=p,(c=r.current)==null||c.call(r,s.hasMore)}async function C(){const s=await E();f(s.categories)}function D(s,o){const{type:c,payload:m}=o;return c==="reset"?m:[...s,...m]}return t.exports.useEffect(()=>{C()},[]),n("div",{className:e(),children:[a("h2",{className:e("title"),children:g}),a("section",{className:e("cards"),children:y.map(s=>n("div",{className:e("card"),children:[a(H,{className:e("img"),src:s.picUrl,onClick:()=>x(J.radioList(s.id))}),n("div",{className:e("right"),children:[a("h3",{children:s.name}),a("div",{children:s.desc}),n("small",{children:["\u8282\u76EE:",s.programCount,"\uFF0C\u8BA2\u9605:",s.subCount]})]})]},s.id))}),a(I,{ref:r,cb:R})]})};export{k as default};
