import{_ as i,b as B,d as F,r as N,j as p,D as C,c as T,q as z,u as D}from"./index-01b98e4e.js";import{ak as I,ab as V,aj as u}from"./vendor-ddfd0f27.js";import{r as t,t as j,n as k,u as O,g as a,j as e}from"./react-34ba0285.js";import{A as L}from"./index-8fb430f9.js";import"./react-redux-b094955d.js";import"./react-router-dom-46eb6367.js";import"./lodash-536b9069.js";const R=t.exports.lazy(()=>i(()=>import("./index-a0b34f11.js").then(r=>r.i),["index-a0b34f11.js","../css/index-f37ecc6a.css","index-01b98e4e.js","../css/index-1fd8b1d8.css","react-34ba0285.js","lodash-536b9069.js","vendor-ddfd0f27.js","../css/vendor-96c6d53d.css","react-redux-b094955d.js","react-router-dom-46eb6367.js"],import.meta.url)),M=t.exports.lazy(()=>i(()=>import("./index-5dab792d.js"),["index-5dab792d.js","../css/index-eaaa42cb.css","react-34ba0285.js","lodash-536b9069.js","vendor-ddfd0f27.js","../css/vendor-96c6d53d.css","index-01b98e4e.js","../css/index-1fd8b1d8.css","react-redux-b094955d.js","react-router-dom-46eb6367.js"],import.meta.url)),w=t.exports.lazy(()=>i(()=>import("./index-02594df7.js"),["index-02594df7.js","../css/index-df82b4fe.css","react-34ba0285.js","lodash-536b9069.js","vendor-ddfd0f27.js","../css/vendor-96c6d53d.css","index-01b98e4e.js","../css/index-1fd8b1d8.css","react-redux-b094955d.js","react-router-dom-46eb6367.js"],import.meta.url)),q=t.exports.lazy(()=>i(()=>import("./index-fe858733.js"),["index-fe858733.js","../css/index-d9c95cf9.css","react-34ba0285.js","lodash-536b9069.js","vendor-ddfd0f27.js","../css/vendor-96c6d53d.css","index-01b98e4e.js","../css/index-1fd8b1d8.css","react-redux-b094955d.js","react-router-dom-46eb6367.js"],import.meta.url)),X=()=>{var d;const r=T("singer"),l=j(),n=t.exports.useMemo(()=>Number(l.id),[l.id]),b=k().state,[h,A]=t.exports.useState("album"),[s,_]=t.exports.useState(),[c,v]=t.exports.useState(),[x,E]=t.exports.useState([]),[m,g]=t.exports.useState("overview"),{push:f}=O(),S=h==="album"?{right:e(L,{activeButton:m,setActiveButton:g})}:void 0;async function y(){const o=await z(n);o.data.artist.alias=b,_(o.data.artist),v(o.data.user)}async function P(){const o=await D(n);E(o.hotAlbums)}return t.exports.useEffect(()=>{if(!Number.isNaN(n))return y(),P(),B},[n]),a("div",{className:r(),children:[a("header",{className:r("header"),children:[e(F,{src:(s==null?void 0:s.cover)&&N(s.cover),className:r("img")}),a("section",{className:r("right"),children:[e("h2",{children:s==null?void 0:s.name}),e("h3",{children:(d=s==null?void 0:s.alias)==null?void 0:d.join(" ")}),a("div",{children:[a(p,{className:r("button"),children:[e(I,{}),"\u6536\u85CF"]}),a(p,{className:r("button"),onClick:()=>f(C.user(c==null?void 0:c.userId)),children:[e(V,{}),"\u4E2A\u4EBA\u4E3B\u9875"]})]}),a("div",{className:r("description"),children:[a("span",{children:["\u5355\u66F2\u6570:",e("strong",{children:s==null?void 0:s.musicSize})]}),a("span",{children:["\u4E13\u8F91\u6570:",e("strong",{children:s==null?void 0:s.albumSize})]}),a("span",{children:["MV\u6570:",e("strong",{children:s==null?void 0:s.mvSize})]})]})]})]}),a(u,{destroyInactiveTabPane:!0,tabBarExtraContent:S,onChange:A,children:[e(u.TabPane,{tab:"\u4E13\u8F91",children:e(t.exports.Suspense,{fallback:"\u52A0\u8F7D\u4E2D...",children:e(R,{type:m,id:n,data:x,isAlbum:!0})})},"album"),e(u.TabPane,{tab:"MV",children:e(t.exports.Suspense,{fallback:"\u52A0\u8F7D\u4E2D...",children:e(M,{id:n})})},"mv"),e(u.TabPane,{tab:"\u6B4C\u624B\u8BE6\u60C5",children:e(t.exports.Suspense,{fallback:"\u52A0\u8F7D\u4E2D...",children:s&&e(w,{id:n})})},"detail"),e(u.TabPane,{tab:"\u76F8\u4F3C\u6B4C\u624B",children:e(t.exports.Suspense,{fallback:"\u52A0\u8F7D\u4E2D...",children:e(q,{id:n})})},"similar")]})]})};export{X as default};
