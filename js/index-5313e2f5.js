var T=Object.defineProperty,j=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var u=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var v=(i,a,s)=>a in i?T(i,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[a]=s,w=(i,a)=>{for(var s in a||(a={}))u.call(a,s)&&v(i,s,a[s]);if(f)for(var s of f(a))k.call(a,s)&&v(i,s,a[s]);return i},N=(i,a)=>j(i,B(a));var y=(i,a)=>{var s={};for(var l in i)u.call(i,l)&&a.indexOf(l)<0&&(s[l]=i[l]);if(i!=null&&f)for(var l of f(i))a.indexOf(l)<0&&k.call(i,l)&&(s[l]=i[l]);return s};import{h as c,j as e,r as m,u as E}from"./react-1b56b61c.js";import{d as C,r as D,c as b,D as h,K as S,k as A,ak as U,o as $}from"./index-c941e042.js";import{u as G}from"./react-redux-6f2a0ace.js";import"./vendor-e7a31927.js";import"./lodash-87ac67d6.js";import"./react-router-dom-1f34616f.js";const H="_official_s160o_1",K="_official__left_s160o_5",O="_official__img_s160o_11",R="_official__right_s160o_16",V="_official__item_s160o_20",q="_official__all_s160o_65";var F={official:H,official__left:K,official__img:O,official__right:R,official__item:V,"official__item-left":"_official__item-left_s160o_43","official__item-right":"_official__item-right_s160o_55",official__all:q};const J=({data:i,onItemClick:a,onViewAll:s})=>{const l=b("official",F);return c("div",{className:l(),children:[e("div",{className:l("left"),children:e(C,{className:l("img"),src:D(i.coverImgUrl),icon:{size:"big",hoverDisplay:!0},onClick:()=>a(i.tracks,0),onIconClick:()=>a(i.tracks,0)})}),c("div",{className:l("right"),children:[e("ul",{children:i.tracks.map((r,o)=>c("li",{className:l("item"),onClick:()=>a(i.tracks,o),children:[c("div",{className:l("item-left"),children:[e("strong",{children:o+1}),e("div",{children:e("span",{children:"-"})}),e("span",{children:r.name})]}),e("div",{className:l("item-right"),children:r.ar.reduce((n,d)=>`${n}/${d.name}`,"").slice(1)})]},r.id))}),e("div",{className:l("all"),onClick:()=>s(i.id),children:"\u67E5\u770B\u5168\u90E8 >"})]})]})},ai=()=>{const i=b("rank"),[a,s]=m.exports.useState([]),[l,r]=m.exports.useState([]),o=G(),{push:n}=E();function d(t,_){o(A({current:_,tracks:t,fm:[]}))}async function x(){const t=await U();s(t.list);const _=t.list.slice(0,5),p=[];for(const I of _){const g=(await $(I.id)).playlist,{tracks:z}=g,P=y(g,["tracks"]);p.push(N(w({},P),{tracks:z.slice(0,5)}))}r(p)}return m.exports.useEffect(()=>{x()},[]),c("div",{className:i(),children:[e("header",{className:i("header"),children:"\u5B98\u65B9\u699C"}),e("div",{className:i("official"),children:l.map(t=>e(J,{data:t,onItemClick:d,onViewAll:_=>n(h.list(_))},t.id))}),e("header",{className:i("header"),children:"\u5168\u7403\u699C"}),e("div",{className:i("global"),children:a.map(t=>c("div",{className:i("item"),children:[e("div",{className:i("img-wrapper"),children:e(C,{className:i("img"),src:D(t.coverImgUrl),icon:{size:"big",hoverDisplay:!0},onClick:()=>n(h.list(t.id)),onIconClick:()=>o(S(t.id))})}),e("div",{className:i("detail"),onClick:()=>n(h.list(t.id)),children:t.name})]},t.id))})]})};export{ai as default};
