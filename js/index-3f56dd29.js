var A=Object.defineProperty,E=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var l=(e,r,t)=>r in e?A(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,x=(e,r)=>{for(var t in r||(r={}))m.call(r,t)&&l(e,t,r[t]);if(u)for(var t of u(r))p.call(r,t)&&l(e,t,r[t]);return e},v=(e,r)=>E(e,_(r));var y=(e,r)=>{var t={};for(var s in e)m.call(e,s)&&r.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&u)for(var s of u(e))r.indexOf(s)<0&&p.call(e,s)&&(t[s]=e[s]);return t};import{c as g}from"./index-c941e042.js";import{k as j}from"./vendor-e7a31927.js";import{r as o,j as C}from"./react-1b56b61c.js";var D={"infinity-scroll":"_infinity-scroll_7g1w6_1"};const h=o.exports.forwardRef((F,s)=>{var c=F,{cb:e,className:r}=c,t=y(c,["cb","className"]);const d=g("infinity-scroll",D),n=o.exports.useRef(null),[I,f]=o.exports.useState(""),a=o.exports.useRef(!0);function R(i){a.current=i}return o.exports.useImperativeHandle(s,()=>R,[]),o.exports.useEffect(()=>{if(!n.current)return;const i=new IntersectionObserver(w=>{w[0].intersectionRatio<=0||(a?(f("\u52A0\u8F7D\u4E2D..."),e==null||e()):f("\u6CA1\u6709\u66F4\u591A\u4E86~"))});return i.observe(n.current),()=>{n.current&&i.unobserve(n.current),i.disconnect()}},[]),C("footer",v(x({ref:n,className:j(d(),r)},t),{children:I}))});export{h as I};
