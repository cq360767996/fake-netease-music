import{r as t,u as N,h as l,j as i}from"./react-1b56b61c.js";import{k as B}from"./vendor-e7a31927.js";import{d as S,r as D,c as E,al as A,D as I}from"./index-c941e042.js";import{c as L}from"./index-60fb63ca.js";import{I as R}from"./index-3f56dd29.js";import"./lodash-87ac67d6.js";import"./react-router-dom-1f34616f.js";import"./react-redux-6f2a0ace.js";const Y=()=>{const a=E("music-singer"),[h,y]=t.exports.useReducer(x,[]),[n,_]=t.exports.useState([-1,-1,void 0]),c=t.exports.useRef(null),{push:v}=N(),d=t.exports.useRef(!1),p=20;let m=0;const w=[{label:"\u8BED\u79CD",list:L,key:"area"},{label:"\u5206\u7C7B",key:"type",list:[{name:"\u5168\u90E8",type:-1},{name:"\u7537\u6B4C\u624B",type:1},{name:"\u5973\u6B4C\u624B",type:2},{name:"\u4E50\u961F\u7EC4\u5408",type:3}]},{label:"\u7B5B\u9009",key:"initial",list:b()}];function b(){const e=[{name:"\u70ED\u95E8"}],s=65;for(let r=0;r<26;r++){const o=String.fromCharCode(s+r),u=String.fromCharCode(s+r+32);e.push({name:o,initial:u})}return e}function x(e,s){return s.type==="add"?[...e,...s.payload]:s.payload}function k(e,s){const r=[...n];r[e]=s,_(r)}async function g(){var f;const[e,s,r]=n,o=await A({area:e,type:s,initial:r,limit:p,offset:m}),u=m===0?"reset":"add";(f=c.current)==null||f.call(c,o.more),y({type:u,payload:o.artists}),m+=p}function C(e){v({pathname:I.singer(e.id),state:e.alias})}return t.exports.useEffect(()=>(d.current&&g(),()=>{d.current=!0}),[n]),l("div",{className:a(),children:[w.map((e,s)=>l("header",{className:a("header"),children:[l("div",{className:a("label"),children:[e.label,"\uFF1A"]}),i("div",{className:a("category"),children:e.list.map(r=>i("div",{className:a("category-item"),onClick:()=>k(s,r[e.key]),children:i("span",{className:B({["--active"]:r[e.key]===n[s]}),children:r.name})},r.name))})]},e.label)),i("div",{className:a("list"),children:h.map(e=>l("div",{className:a("item"),onClick:()=>C(e),children:[i(S,{className:a("img"),src:D(e.picUrl)}),i("div",{className:a("description"),children:e.name})]},e.id))}),i(R,{ref:c,cb:g})]})};export{Y as default};
