import{d as z,D as R,c as b,X as C,Y as j}from"./index-c941e042.js";import{q as D,r as t,u as N,h as n,j as s}from"./react-1b56b61c.js";import{I as H}from"./index-3f56dd29.js";import"./react-router-dom-1f34616f.js";import"./vendor-e7a31927.js";import"./lodash-87ac67d6.js";import"./react-redux-6f2a0ace.js";const P=()=>{const o=b("zone"),l=D(),c=t.exports.useMemo(()=>Number(l.type),[l.type]),[p,f]=t.exports.useState([]),[h,v]=t.exports.useReducer(y,[]),g=t.exports.useMemo(()=>{var e;return(e=p.find(r=>r.id===c))==null?void 0:e.name},[p,c]),d=t.exports.useRef(0),a=t.exports.useRef(null),u=20,{push:w}=N();async function _(){var i;const e=await C(c,d.current,u),r=d.current===0?"reset":"add";v({type:r,payload:e.djRadios}),d.current+=u,(i=a.current)==null||i.call(a,e.hasMore)}async function x(){const e=await j();f(e.categories)}function y(e,r){const{type:i,payload:m}=r;return i==="reset"?m:[...e,...m]}return t.exports.useEffect(()=>{x()},[]),n("div",{className:o(),children:[s("h2",{className:o("title"),children:g}),s("section",{className:o("cards"),children:h.map(e=>n("div",{className:o("card"),children:[s(z,{className:o("img"),src:e.picUrl,onClick:()=>w(R.radioList(e.id))}),n("div",{className:o("right"),children:[s("h3",{children:e.name}),s("div",{children:e.desc}),n("small",{children:["\u8282\u76EE:",e.programCount,"\uFF0C\u8BA2\u9605:",e.subCount]})]})]},e.id))}),s(H,{ref:a,cb:_})]})};export{P as default};
