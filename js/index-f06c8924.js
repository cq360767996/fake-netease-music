import{t as S,u as L,r as a,n as R,g as i,j as e,F as A}from"./react-b78be278.js";import{u as T}from"./react-redux-20b856b3.js";import{d as z,r as G,t as H,j as u,D as $,c as q,E as W,F as J,G as K}from"./index-c071a80c.js";import{L as Q}from"./index-d19bdff9.js";import{A as V}from"./index-38b8f4e4.js";import{M as X}from"./index-0c42571c.js";import{an as Y,ao as Z,ap as _,af as D,x as ss,aq as es}from"./vendor-87fac478.js";import"./lodash-536b9069.js";import"./react-router-dom-13d0c15b.js";const us=()=>{const t=q("user"),y=S(),{push:B}=L(),E=T(r=>r.user.profile.userId),c=a.exports.useMemo(()=>Number(y.id),[y.id]),{state:U}=R(),[s,x]=a.exports.useState(),[m,P]=a.exports.useState([]),[d,I]=a.exports.useState([]),w=a.exports.useMemo(()=>N(d.filter(r=>r.userId===E)),[d]),M=a.exports.useMemo(()=>N(d.filter(r=>r.userId!==E)),[d]);function N(r){return r.map(n=>{const{id:l,name:o,coverImgUrl:h,trackCount:p,copywriter:f,createTime:g,tracks:v}=n;return{id:l,name:o,picUrl:h,size:p,description:f,publishTime:g,songs:v||[]}})}async function O(){const r=await W(c);x(r)}async function b(){const n=(await J(c)).djRadios.map(l=>{const{id:o,name:h,programCount:p,subCount:f,picUrl:g}=l,v=`\u8282\u76EE${p}`,F=`\u8BA2\u9605${f}`;return{id:o,imgUrl:g,name:h,col2:v,col3:F}});P(n)}async function j(){const r=await K(c);I(r.playlist)}function k(){if(m.length>0)return i(A,{children:[e("h2",{className:t("tag"),children:i("div",{children:["Ta\u521B\u5EFA\u7684\u7535\u53F0",i("strong",{children:["\uFF08",m.length,"\uFF09"]})]})}),e("div",{className:t("radio"),children:e(Q,{data:m})})]})}const C=({title:r,playlist:n})=>{const[l,o]=a.exports.useState("overview");return n.length>0?i(A,{children:[i("h2",{className:t("tag"),children:[i("div",{children:[r,i("strong",{children:["\uFF08",n.length,"\uFF09"]})]}),e(V,{activeButton:l,setActiveButton:o})]}),e("div",{className:t("playlist"),children:e(X,{type:l,id:c,data:n,myself:U})})]}):null};return a.exports.useEffect(()=>{Number.isNaN(c)||(O(),b(),j())},[]),i("div",{children:[i("header",{className:t("header"),children:[e(z,{src:s&&G(s.profile.avatarUrl,200),className:t("cover")}),i("div",{className:t("introduction"),children:[e("h2",{children:s==null?void 0:s.profile.nickname}),i("div",{className:t("title"),children:[i("div",{className:t("title-left"),children:[(s==null?void 0:s.identify)&&i("div",{className:t("title-auth"),children:[e("img",{src:H(s.identify.imageUrl)}),e("strong",{children:s.identify.imageDesc})]}),i("mark",{children:["Lv",s==null?void 0:s.level]}),s!=null&&s.profile.gender?e(Y,{}):e(Z,{})]}),(s==null?void 0:s.identify)&&i("div",{className:t("title-right"),children:[i(u,{onClick:()=>B($.singer(s.profile.artistId)),children:[e(_,{}),"\u6B4C\u624B\u9875"]}),i(u,{children:[e(D,{}),"\u53D1\u79C1\u4FE1"]}),i(u,{children:[e(ss,{}),"\u5173\u6CE8"]}),e(u,{className:"--circle",children:e(es,{})})]})]}),i("div",{className:t("statistic"),children:[i("div",{className:t("statistic-item"),children:[e("h3",{children:s==null?void 0:s.profile.eventCount}),e("div",{children:"\u52A8\u6001"})]}),i("div",{className:t("statistic-item"),children:[e("h3",{children:s==null?void 0:s.profile.follows}),e("div",{children:"\u5173\u6CE8"})]}),i("div",{className:t("statistic-item"),children:[e("h3",{children:s==null?void 0:s.profile.followeds}),e("div",{children:"\u7C89\u4E1D"})]})]}),i("div",{className:t("social"),children:[i("div",{children:["\u793E\u4EA4\u7F51\u7EDC: ",e("span",{children:"\u672A\u7ED1\u5B9A"})]}),i("div",{children:["\u4E2A\u4EBA\u4ECB\u7ECD: ",e("span",{children:(s==null?void 0:s.profile.signature)||"\u6682\u65E0\u4ECB\u7ECD"})]})]})]})]}),k(),e(C,{title:"\u6B4C\u5355",playlist:w}),e(C,{title:"\u6536\u85CF\u7684\u6B4C\u5355",playlist:M})]})};export{us as default};
