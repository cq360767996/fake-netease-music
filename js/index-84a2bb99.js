import{q as S,u as L,r as a,k as R,h as i,j as e,F as A}from"./react-d9689425.js";import{d as T,r as z,t as q,j as u,D as G,c as H,E as $,F as W,G as J}from"./index-c34386fa.js";import{L as K}from"./index-9678f7ca.js";import{A as Q}from"./index-47cf7227.js";import{M as V}from"./index-a9f76cdf.js";import{a as X}from"./react-redux-ace978cf.js";import{an as Y,ao as Z,ap as _,af as D,z as ss,aq as es}from"./vendor-448858a9.js";import"./lodash-87ac67d6.js";import"./react-router-dom-94468eab.js";const us=()=>{const t=H("user"),y=S(),{push:B}=L(),E=X(r=>r.user.profile.userId),c=a.exports.useMemo(()=>Number(y.id),[y.id]),{state:U}=R(),[s,x]=a.exports.useState(),[m,P]=a.exports.useState([]),[d,I]=a.exports.useState([]),w=a.exports.useMemo(()=>N(d.filter(r=>r.userId===E)),[d]),M=a.exports.useMemo(()=>N(d.filter(r=>r.userId!==E)),[d]);function N(r){return r.map(n=>{const{id:l,name:o,coverImgUrl:h,trackCount:p,copywriter:f,createTime:v,tracks:g}=n;return{id:l,name:o,picUrl:h,size:p,description:f,publishTime:v,songs:g||[]}})}async function k(){const r=await $(c);x(r)}async function O(){const n=(await W(c)).djRadios.map(l=>{const{id:o,name:h,programCount:p,subCount:f,picUrl:v}=l,g=`\u8282\u76EE${p}`,F=`\u8BA2\u9605${f}`;return{id:o,imgUrl:v,name:h,col2:g,col3:F}});P(n)}async function b(){const r=await J(c);I(r.playlist)}function j(){if(m.length>0)return i(A,{children:[e("h2",{className:t("tag"),children:i("div",{children:["Ta\u521B\u5EFA\u7684\u7535\u53F0",i("strong",{children:["\uFF08",m.length,"\uFF09"]})]})}),e("div",{className:t("radio"),children:e(K,{data:m})})]})}const C=({title:r,playlist:n})=>{const[l,o]=a.exports.useState("overview");return n.length>0?i(A,{children:[i("h2",{className:t("tag"),children:[i("div",{children:[r,i("strong",{children:["\uFF08",n.length,"\uFF09"]})]}),e(Q,{activeButton:l,setActiveButton:o})]}),e("div",{className:t("playlist"),children:e(V,{type:l,id:c,data:n,myself:U})})]}):null};return a.exports.useEffect(()=>{Number.isNaN(c)||(k(),O(),b())},[]),i("div",{children:[i("header",{className:t("header"),children:[e(T,{src:s&&z(s.profile.avatarUrl,200),className:t("cover")}),i("div",{className:t("introduction"),children:[e("h2",{children:s==null?void 0:s.profile.nickname}),i("div",{className:t("title"),children:[i("div",{className:t("title-left"),children:[(s==null?void 0:s.identify)&&i("div",{className:t("title-auth"),children:[e("img",{src:q(s.identify.imageUrl)}),e("strong",{children:s.identify.imageDesc})]}),i("mark",{children:["Lv",s==null?void 0:s.level]}),s!=null&&s.profile.gender?e(Y,{}):e(Z,{})]}),(s==null?void 0:s.identify)&&i("div",{className:t("title-right"),children:[i(u,{onClick:()=>B(G.singer(s.profile.artistId)),children:[e(_,{}),"\u6B4C\u624B\u9875"]}),i(u,{children:[e(D,{}),"\u53D1\u79C1\u4FE1"]}),i(u,{children:[e(ss,{}),"\u5173\u6CE8"]}),e(u,{className:"--circle",children:e(es,{})})]})]}),i("div",{className:t("statistic"),children:[i("div",{className:t("statistic-item"),children:[e("h3",{children:s==null?void 0:s.profile.eventCount}),e("div",{children:"\u52A8\u6001"})]}),i("div",{className:t("statistic-item"),children:[e("h3",{children:s==null?void 0:s.profile.follows}),e("div",{children:"\u5173\u6CE8"})]}),i("div",{className:t("statistic-item"),children:[e("h3",{children:s==null?void 0:s.profile.followeds}),e("div",{children:"\u7C89\u4E1D"})]})]}),i("div",{className:t("social"),children:[i("div",{children:["\u793E\u4EA4\u7F51\u7EDC: ",e("span",{children:"\u672A\u7ED1\u5B9A"})]}),i("div",{children:["\u4E2A\u4EBA\u4ECB\u7ECD: ",e("span",{children:(s==null?void 0:s.profile.signature)||"\u6682\u65E0\u4ECB\u7ECD"})]})]})]})]}),j(),e(C,{title:"\u6B4C\u5355",playlist:w}),e(C,{title:"\u6536\u85CF\u7684\u6B4C\u5355",playlist:M})]})};export{us as default};
