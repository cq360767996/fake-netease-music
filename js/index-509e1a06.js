import{r,u as Q,h as c,j as a,F as W}from"./react-d9689425.js";import{B as X,T as o,C as k,L as y}from"./index-932fdc92.js";import{a7 as l,d as N,r as Y,D as p,K as Z,c as _,x as $,a8 as ee,a9 as ae,H as se,aa as te,ab as ne,ac as ie,ad as re,k as ce}from"./index-c34386fa.js";import{a as oe,u as le}from"./react-redux-ace978cf.js";import{j as de}from"./vendor-448858a9.js";import"./lodash-87ac67d6.js";import"./react-router-dom-94468eab.js";var ue="jpg/recommend-53b882c2.jpg";const ye=()=>{const t=_("find-music"),d=oe(e=>!!e.user.cookie),[v,w]=r.exports.useState([]),[x,B]=r.exports.useState([]),[S,P]=r.exports.useState([]),[D,A]=r.exports.useState([]),[F,M]=r.exports.useState([]),[b,z]=r.exports.useState([]),[E,T]=r.exports.useState([]),g=le(),{push:i}=Q(),C={size:"medium",hoverDisplay:!0,placement:"bottom"},I=de(Date.now()).format("DD");function f(e){return e.map(n=>{const{id:s,name:u,picUrl:m}=n;return{id:s,name:u,imgUrl:m}})}function h(e){g($(e))}function L({i:e,j:n,len:s,item:u}){var m;return c(W,{children:[a("strong",{className:t("ordinal"),children:e*s/2+n+1}),c("div",{children:[a("div",{children:u.name}),a("div",{className:t("artist"),children:(m=u.extra)==null?void 0:m.artistName})]})]})}function j({item:e}){var n;return c("div",{className:t("list"),children:[a("div",{className:t("list-name"),children:e.name}),a("div",{className:t("list-detail"),children:(n=e.extra)==null?void 0:n.description})]})}async function V(){const e=await ee();w(e.banners)}async function U(){const n=await ae({limit:d?9:10});B(f(n.result))}async function R(){if(!d)return;const e=await se();P(e.data.dailySongs)}async function J(){const e=await te({limit:4});A(f(e.result))}async function H(){const e=await ne();M(f(e.result))}async function G(){const n=(await ie()).albums.map(s=>({id:s.id,name:s.name,imgUrl:s.picUrl,extra:{artistName:s.artist.name}}));z(n)}async function K(){const n=(await re()).toplist.map(s=>({id:s.id,name:s.name,imgUrl:s.picUrl,extra:{description:s.rcmdtext}}));T(n)}function q(){d&&i(l.video)}const O=e=>{e.stopPropagation(),g(ce({tracks:S,current:0,fm:[]}))};return r.exports.useEffect(()=>{V(),U(),R(),J(),H(),G(),K()},[]),c("div",{className:t(),children:[a(X,{data:v,onBannerClick:h}),a(o,{name:"\u63A8\u8350\u6B4C\u5355",onClick:()=>i(l.findMusicMusicList)}),c("div",{className:t("card"),children:[d&&c("div",{className:t("card-item"),children:[c("div",{className:t("card-wrapper"),onClick:()=>i(l.dailyRecommend),children:[a("header",{children:"\u6839\u636E\u60A8\u7684\u97F3\u4E50\u53E3\u5473\u751F\u6210\u6BCF\u65E5\u66F4\u65B0"}),a("strong",{children:I}),a(N,{className:t("card-img"),icon:C,src:ue,alt:"\u6BCF\u65E5\u63A8\u8350",onIconClick:O})]}),a("p",{children:"\u6BCF\u65E5\u6B4C\u66F2\u63A8\u8350"})]}),x.map(e=>c("div",{className:t("card-item"),children:[a(N,{className:t("card-img"),src:Y(e.imgUrl,135),icon:C,onClick:()=>i(p.list(e.id)),onIconClick:()=>g(Z(e.id))}),a("p",{children:e.name})]},e.id))]}),a(o,{name:"\u72EC\u5BB6\u653E\u9001",welt:!0,onClick:()=>{}}),a(k,{type:"rectangle",data:D,onItemClick:e=>i(p.playVideo(e))}),a(o,{name:"\u6700\u65B0\u97F3\u4E50",onClick:()=>i(l.findMusicNewest)}),a(y,{icon:!0,data:b,functionChildren:L,onItemClick:h}),a(o,{name:"\u63A8\u8350MV",onClick:q}),a(k,{type:"rectangle",data:F,onItemClick:e=>i(p.playVideo(e))}),a(o,{name:"\u4E3B\u64AD\u7535\u53F0",welt:!0,onClick:()=>i(l.findMusicRadioHost)}),a(y,{size:"medium",data:E,functionChildren:j,onItemClick:e=>i(p.radioList(e))})]})};export{ye as default};
