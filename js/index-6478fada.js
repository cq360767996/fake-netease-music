import{g as c,j as i,r as d,u as D}from"./react-34ba0285.js";import{a as x}from"./react-redux-b094955d.js";import{d as p,r as u,c as g,D as m,J as I,k as w,ak as P,o as T}from"./index-01b98e4e.js";import"./lodash-536b9069.js";import"./vendor-ddfd0f27.js";import"./react-router-dom-46eb6367.js";const b="_official_s160o_1",j="_official__left_s160o_5",z="_official__img_s160o_11",B="_official__right_s160o_16",E="_official__item_s160o_20",S="_official__all_s160o_65",A={official:b,official__left:j,official__img:z,official__right:B,official__item:E,"official__item-left":"_official__item-left_s160o_43","official__item-right":"_official__item-right_s160o_55",official__all:S},U=({data:s,onItemClick:e,onViewAll:f})=>{const a=g("official",A);return c("div",{className:a(),children:[i("div",{className:a("left"),children:i(p,{className:a("img"),src:u(s.coverImgUrl),icon:{size:"big",hoverDisplay:!0},onClick:()=>e(s.tracks,0),onIconClick:()=>e(s.tracks,0)})}),c("div",{className:a("right"),children:[i("ul",{children:s.tracks.map((t,o)=>c("li",{className:a("item"),onClick:()=>e(s.tracks,o),children:[c("div",{className:a("item-left"),children:[i("strong",{children:o+1}),i("div",{children:i("span",{children:"-"})}),i("span",{children:t.name})]}),i("div",{className:a("item-right"),children:t.ar.reduce((r,_)=>`${r}/${_.name}`,"").slice(1)})]},t.id))}),i("div",{className:a("all"),onClick:()=>f(s.id),children:"\u67E5\u770B\u5168\u90E8 >"})]})]})},V=()=>{const s=g("rank"),[e,f]=d.exports.useState([]),[a,t]=d.exports.useState([]),o=x(),{push:r}=D();function _(l,n){o(w({current:n,tracks:l,fm:[]}))}async function k(){const l=await P();f(l.list);const n=l.list.slice(0,5),h=[];for(const v of n){const N=await T(v.id),{tracks:y,...C}=N.playlist;h.push({...C,tracks:y.slice(0,5)})}t(h)}return d.exports.useEffect(()=>{k()},[]),c("div",{className:s(),children:[i("header",{className:s("header"),children:"\u5B98\u65B9\u699C"}),i("div",{className:s("official"),children:a.map(l=>i(U,{data:l,onItemClick:_,onViewAll:n=>r(m.list(n))},l.id))}),i("header",{className:s("header"),children:"\u5168\u7403\u699C"}),i("div",{className:s("global"),children:e.map(l=>c("div",{className:s("item"),children:[i("div",{className:s("img-wrapper"),children:i(p,{className:s("img"),src:u(l.coverImgUrl),icon:{size:"big",hoverDisplay:!0},onClick:()=>r(m.list(l.id)),onIconClick:()=>o(I(l.id))})}),i("div",{className:s("detail"),onClick:()=>r(m.list(l.id)),children:l.name})]},l.id))})]})};export{V as default};
