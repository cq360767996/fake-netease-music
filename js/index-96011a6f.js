import{r as n,u as Q,h as g,j as a}from"./react-d9689425.js";import{B as V,T as c,L as W,C as l}from"./index-932fdc92.js";import{D as p,d as _,a7 as ee,c as ae,ah as te,x as se,ai as ne,Y as oe,aj as re,Z as ie}from"./index-c34386fa.js";import{u as ce}from"./react-redux-ace978cf.js";import{ac as ue,ad as le}from"./vendor-448858a9.js";import"./lodash-87ac67d6.js";import"./react-router-dom-94468eab.js";const ye=()=>{const o=ae("radio-host"),[P,R]=n.exports.useState([]),[y,B]=n.exports.useState([]),[i,x]=n.exports.useState(0),[k,J]=n.exports.useState(0),[S,F]=n.exports.useState([]),[N,E]=n.exports.useState([]),[w,I]=n.exports.useState([]),[T,j]=n.exports.useState([]),[v,U]=n.exports.useState([]),[L,z]=n.exports.useState([]),[A,H]=n.exports.useState([]),Z=ce(),{push:d}=Q();function M(e,t){te(e).then(s=>{const r=s.djRadios.map(C=>{const{id:h,name:f,picUrl:K}=C;return{id:h,name:f,imgUrl:K}});t(r.slice(0,5))})}function D(e=!1){e&&k-i>1&&x(i+1),!e&&i>0&&x(i-1)}function b({item:e}){var t,s,r;return g("div",{className:o("list"),children:[a("h2",{children:e.name}),a("h4",{children:(t=e.extra)==null?void 0:t.rcmdText}),a("h4",{children:(s=e.extra)==null?void 0:s.lastProgramName}),g("h3",{children:["\xA5",Number((r=e.extra)==null?void 0:r.originalPrice)/100]})]})}function O(e){Z(se(e))}function u(e){d(p.radioList(e))}function G(e){d(p.radioList(e,"pay"))}function m(e){var s;const t=(s=y.find(r=>r.name===e))==null?void 0:s.id;d(p.radioZone(t))}async function X(){const e=await ne();R(e.data.map(t=>({targetId:t.targetId,imageUrl:t.pic})))}async function Y(){const e=await oe();B(e.categories),J(Math.ceil(e.categories.length/8))}async function $(){const t=(await re()).data.map(s=>({id:s.id,name:s.rcmdText,imgUrl:s.picUrl}));F(t)}async function q(){const t=(await ie()).data.list.map(s=>{const{id:r,name:C,picUrl:h,...f}=s;return{id:r,name:C,imgUrl:h,extra:f}});E(t)}return n.exports.useEffect(()=>{X(),Y(),$(),q(),[[10001,I],[2001,j],[2,U],[3,z],[8,H]].forEach(t=>M(...t))},[]),g("div",{className:o(),children:[a(V,{data:P,onBannerClick:O}),g("div",{className:o("category"),children:[i>0?a(ue,{className:o("category-arrow --left"),onClick:()=>D()}):null,k-i>1?a(le,{className:o("category-arrow --right"),onClick:()=>D(!0)}):null,a("div",{className:o("category-wrapper"),style:{transform:`translateX(${2-i*72}vw)`},children:y.map(e=>g("div",{className:o("category-item"),onClick:()=>d(p.radioZone(e.id)),children:[a("div",{className:o("category-img-wrapper"),children:a(_,{className:o("category-img"),src:e.pic56x56Url})}),a("div",{className:o("category-text"),children:e.name})]},e.id))})]}),a(c,{name:"\u4ED8\u8D39\u7CBE\u54C1",onClick:()=>d(ee.findMusicRadioHostPay)}),a(W,{size:"large",data:N,functionChildren:b,onItemClick:G}),a(c,{name:"\u7535\u53F0\u4E2A\u6027\u63A8\u8350"}),a(l,{data:S,onItemClick:u}),a(c,{name:"\u6709\u58F0\u4E66",onClick:()=>m("\u6709\u58F0\u4E66")}),a(l,{data:w,onItemClick:u}),a(c,{name:"\u521B\u4F5C\u7FFB\u5531",onClick:()=>m("\u521B\u4F5C\u7FFB\u5531")}),a(l,{data:T,onItemClick:u}),a(c,{name:"\u97F3\u4E50\u63A8\u8350",onClick:()=>m("\u97F3\u4E50\u63A8\u8350")}),a(l,{data:v,onItemClick:u}),a(c,{name:"\u60C5\u611F",onClick:()=>m("\u60C5\u611F")}),a(l,{data:L,onItemClick:u}),a(c,{name:"\u8131\u53E3\u79C0",onClick:()=>m("\u8131\u53E3\u79C0")}),a(l,{data:A,onItemClick:u})]})};export{ye as default};
