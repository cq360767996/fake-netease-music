import{r as c,j as n,a as X,h as l,u as U,k as De,F as T,l as st,S as nt,n as ot,o as yt,p as vt}from"./react-d9689425.js";import{L as Ct,B as bt}from"./react-router-dom-94468eab.js";import{h as M,j as rt,k as B,m as Ne,n as K,o as H,q as ee,r as Et,C as we,t as re,T as Pe,u as St,D as Ft,F as Dt,v as Nt,N as wt,S as at,H as xe,x as xt,y as kt,z as it,A as At,B as Bt,E as Lt,R as It,G as Ot,I as Tt,L as Pt,J as ke,Q as Rt,K as ct,M as Mt,O as $t,U as zt,V as Vt,W as jt,X as Ae,Y as qt,Z as Ut,$ as Ht,a0 as Jt,a1 as Gt,a2 as Yt,a3 as Kt,a4 as Re,a5 as lt,a6 as Zt,a7 as Qt,a8 as ut,a9 as Wt,aa as Be,ab as Xt,ac as es,ad as ts,ae as ss,af as ns,ag as os,ah as rs}from"./vendor-448858a9.js";import{u as P,a as x,P as as}from"./react-redux-ace978cf.js";import{a as is}from"./lodash-87ac67d6.js";const cs=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}};cs();const ls="modulepreload",Me={},us="",E=function(t,s){return!s||s.length===0?t():Promise.all(s.map(o=>{if(o=`${us}${o}`,o in Me)return;Me[o]=!0;const a=o.endsWith(".css"),r=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${r}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":ls,a||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),a)return new Promise((p,d)=>{i.addEventListener("load",p),i.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};const ds="_sidebar_yo7cu_1",_s="_sidebar__header_yo7cu_6",ms="_sidebar__main_yo7cu_23",ps="_sidebar__item_yo7cu_34",hs="_sidebar__title_yo7cu_56";var $e={sidebar:ds,sidebar__header:_s,sidebar__main:ms,"sidebar__main-content":"_sidebar__main-content_yo7cu_31",sidebar__item:ps,"--active":"_--active_yo7cu_43",sidebar__title:hs,"sidebar__title-left":"_sidebar__title-left_yo7cu_65","sidebar__title-right":"_sidebar__title-right_yo7cu_70"};const gs="_scrollbar_11l6t_1",fs="_scrollbar__content_11l6t_8";var ys={scrollbar:gs,scrollbar__content:fs};const Le={set(e,t,s=864e5){const o=typeof t=="string"?t:M.stringify(t);return localStorage.setItem(e,o),localStorage.setItem(`${e}__expires__`,Date.now()+s+""),t},get(e){const t=Date.now(),s=localStorage.getItem(`${e}__expires__`)||t+1;if(t>=s){this.remove(e);return}return localStorage.getItem(e)},remove(e){localStorage.removeItem(e),localStorage.removeItem(`${e}__expires__`)}};function q(e,t){return e.then(s=>[null,s]).catch(s=>(t&&Object.assign(s,t),[s,void 0]))}const vs=e=>e?e<1e4?""+e:Math.floor(e/1e4)+"\u4E07":0,Cs=()=>{},fe=e=>rt(e).format("mm:ss"),bs=e=>{const t=e.split(":"),s=Number(t[0]),o=Number(t[1]),a=s*60+o;return Number.isNaN(a)?0:a*1e3},Y=(e,t=200,s)=>`${e}?param=${t}y${s||t}`,Es=e=>{const{id:t,name:s,duration:o,album:a,artists:r}=e;return{id:t,name:s,dt:o,al:a,ar:r}},Wo=e=>{const{id:t,name:s,duration:o,album:a,artists:r}=e;return{id:t,name:s,dt:o,al:a,ar:r}};function F(e,t){return function(s){const o=e+(s?"__"+s:"");return t?t[o]:o}}function ie(e){return e==null?void 0:e.replace(/^http(?!s)/,t=>`${t}s`)}const Ie=c.exports.forwardRef(({children:e,className:t},s)=>{const o=F("scrollbar",ys);return n("div",{ref:s,className:B(o(),t),children:n("div",{className:o("content"),children:e})})}),Ss="_login_guh86_1",Fs="_login__mask_guh86_16",Ds="_login__img_guh86_24",Ns="_login__form_guh86_28",ws="_login__btn_guh86_51",xs="_login__register_guh86_65";var ks={login:Ss,login__mask:Fs,login__img:Ds,login__form:Ns,"login__form-item":"_login__form-item_guh86_37",login__btn:ws,login__register:xs},As="svg/login-5a53f576.svg";const ae=(e="\u63A5\u53E3\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E")=>(K.error(e),Promise.reject()),Bs="http://localhost:4000/",ye=[],Z=()=>{ye.forEach(e=>{e()}),ye.length=0},Ls=e=>{const t={400:"\u8BF7\u6C42\u9519\u8BEF(400)",401:"\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)",403:"\u62D2\u7EDD\u8BBF\u95EE(403)",404:"\u8BF7\u6C42\u51FA\u9519(404)",408:"\u8BF7\u6C42\u8D85\u65F6(408)",500:"\u670D\u52A1\u5668\u9519\u8BEF(500)",501:"\u670D\u52A1\u672A\u5B9E\u73B0(501)",502:"\u7F51\u7EDC\u9519\u8BEF(502)",503:"\u670D\u52A1\u4E0D\u53EF\u7528(503)",504:"\u7F51\u7EDC\u8D85\u65F6(504)",505:"HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)",0:`\u8FDE\u63A5\u51FA\u9519(${e})!`};return`${t[e]||t[0]}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},me=Ne.create({baseURL:Bs,timeout:1e4,headers:{"Content-Type":"application/json"},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=M.parse(e)),e)]});me.interceptors.request.use(e=>{e.cancelToken=new Ne.CancelToken(s=>{ye.push(s)});const t=Le.get("userInfo");if(t){const s=M.parse(t);e.url=e.url+"?cookie="+s.cookie}return e},ae);me.interceptors.response.use(async e=>{const t=e.status;return t<200||t>=300?ae(Ls(t)):e.data.code===200?e.data:ae(e.data.message)},e=>Ne.isCancel(e)?new Promise(Cs):ae());const _=(e,t,s)=>me.get(e,{...s,params:t}),Is=(e,t,s)=>me.post(e,t,s),Os=e=>Is("/login/cellphone",e),Ts=e=>_("/user/playlist",{uid:e}),Xo=()=>_("/banner"),er=()=>_("/dj/banner"),tr=e=>_("/personalized",e),sr=e=>_("/personalized/privatecontent/list",e),nr=()=>_("/personalized/mv"),or=()=>_("/album/newest"),rr=(e=6)=>_("/dj/toplist",{limit:e}),Ps=e=>_("/song/url",{id:e}),Rs=e=>_("/lyric",{id:e}),Ms=()=>_("/personal_fm"),$s=(e,t=0)=>_("/comment/music",{id:e,offset:t}),ar=(e,t=0)=>_("/comment/playlist",{id:e,offset:t}),ir=()=>_("/playlist/hot"),cr=()=>_("/playlist/catlist"),lr=({offset:e,limit:t,cat:s})=>_("/top/playlist",{cat:s,offset:e,limit:t}),ur=()=>_("/dj/catelist"),dr=(e=5)=>_("/dj/personalize/recommend",{limit:e}),_r=(e=0,t=4)=>_("/dj/paygift",{offset:e,limit:t}),mr=e=>_("/user/audio",{uid:e}),pr=e=>_("/dj/recommend/type",{type:e}),hr=()=>_("/toplist"),zs=e=>_("/playlist/detail",{id:e}),gr=e=>_("/artist/list",e),fr=e=>_("/top/song",{type:e}),yr=e=>_("/top/album",e),vr=()=>_("/video/category/list"),Cr=(e,t=0)=>_("/video/group",{id:e,offset:t}),br=(e,t=6)=>_("/mv/first",{area:e,limit:t}),Er=(e=6)=>_("/mv/all",{limit:e}),Sr=(e=6)=>_("/mv/exclusive/rcmd",{limit:e}),Fr=(e,t=10)=>_("/top/mv",{area:e,limit:t}),Dr=()=>_("/dj/sublist"),Nr=()=>_("/album/sublist"),wr=()=>_("/artist/sublist"),xr=()=>_("/mv/sublist"),Vs=e=>_("/simi/playlist",{id:e}),js=e=>_("/simi/song",{id:e}),qs=e=>_("/song/detail",{ids:e}),Us=()=>_("/search/hot/detail"),kr=({id:e,offset:t,limit:s=20})=>_("/playlist/subscribers",{id:e,offset:t,limit:s}),Hs=e=>_("/search/suggest",{keywords:e}),Ar=e=>_("/search",e),Br=e=>_("/search/multimatch",{keywords:e}),Lr=e=>_("/artist/detail",{id:e}),Ir=e=>_("/artist/top/song",{id:e}),Or=e=>_("/artist/album",{id:e}),Tr=e=>_("/artist/desc",{id:e}),Js=e=>_("/album",{id:e}),Pr=e=>_("/artist/mv",{id:e}),Rr=e=>_("/simi/artist",{id:e}),Mr=e=>_("/album/detail/dynamic",{id:e}),$r=(e,t=0)=>_("/comment/album",{id:e,offset:t}),zr=e=>_("/user/detail",{uid:e}),Vr=()=>_("/recommend/songs"),jr=(e,t=0)=>_("/comment/video",{id:e,offset:t}),qr=e=>_("/video/detail",{id:e}),Ur=e=>_("/video/url",{id:e}),Hr=e=>_("/related/allvideo",{id:e}),Jr=()=>_("/video/group/list"),Gr=(e=0)=>_("/video/timeline/all",{offset:e}),Yr=e=>_("/dj/detail",{rid:e}),Kr=e=>_("/dj/program",{rid:e}),Zr=(e,t)=>_("/dj/subscriber",{id:e,time:t}),Gs=e=>_("/comment/dj",{id:e}),Qr=e=>_("/mv/url",{id:e}),Wr=e=>_("/mv/detail",{mvid:e}),Xr=e=>_("/mv/detail/info",{mvid:e}),ea=(e,t=0)=>_("/comment/mv",{id:e,offset:t}),ta=(e,t)=>_("/user/cloud",{offset:e,limit:t}),sa=()=>_("/playlist/highquality/tags"),na=(e,t=1,s)=>_("/top/playlist/highquality",{cat:e,limit:t,before:s}),oa=(e,t,s)=>_("/dj/radio/hot",{cateId:e,offset:t,limit:s});var dt="svg/avatar-86c9b0fc.svg";const _t=e=>"userInfo"+e?`/${e}`:"",ce=H(_t("set"),async({phone:e,password:t},{rejectWithValue:s})=>{const[o,a]=await q(Os({phone:e,password:t}));if(o||!a)return s(null);const{code:r,...i}=a;return r===200?i:s(null)}),{reducer:Ys,actions:Ks}=ee({name:_t(),initialState:{cookie:"",profile:{avatarUrl:dt,nickname:"\u672A\u767B\u5F55",userId:0,description:""}},reducers:{setUserInfoFromCache(e,t){return{...e,...t.payload}}},extraReducers(e){e.addCase(ce.fulfilled,(t,s)=>({...t,...s.payload})),e.addCase(ce.rejected,t=>(K.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),t))}}),{setUserInfoFromCache:Zs}=Ks,mt=e=>"userPlaylist"+e?`/${e}`:"",Qs={playlist:[]},le=H(mt("set"),async(e,{rejectWithValue:t})=>{const[s,o]=await q(Ts(e));if(s||!o)return t(null);const{code:a,...r}=o;return a===200?r:t(null)}),{reducer:Ws}=ee({name:mt(),initialState:Qs,reducers:{},extraReducers(e){e.addCase(le.fulfilled,(t,s)=>({...t,...s.payload})),e.addCase(le.rejected,t=>(K.error("\u83B7\u53D6\u6B4C\u5355\u5217\u8868\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5\uFF5E"),t))}});var G=(e=>(e[e.IN_TURN=0]="IN_TURN",e[e.LOOP=1]="LOOP",e[e.SOLO=2]="SOLO",e[e.RANDOM=3]="RANDOM",e))(G||{}),Xs=(e=>(e[e.SONG=1]="SONG",e[e.SINGER=100]="SINGER",e[e.ALBUM=10]="ALBUM",e[e.VIDEO=1014]="VIDEO",e[e.PLAYLIST=1e3]="PLAYLIST",e[e.LYRIC=1006]="LYRIC",e[e.RADIO=1009]="RADIO",e[e.USER=1002]="USER",e))(Xs||{});const te=e=>`currentTrack/${e}`,ze=localStorage.getItem("currentTrack"),en=ze?M.parse(ze):{current:-1,tracks:[],fm:[],autoPlay:!0},ue=H(te("setSong"),async(e,{rejectWithValue:t})=>{const[s,o]=await q(Ps(e));if(s||!o)return t(null);const{code:a,data:r}=o;return a===200?r.length===0||!r[0].url?(K.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<"),t(null)):r[0]:t(null)}),ve=H(te("setFM"),async(e,{rejectWithValue:t})=>{const[s,o]=await q(Ms());if(s||!o)return t(null);const{code:a,data:r}=o;return a===200&&r.length?{init:e,data:r}:t(null)}),de=H(te("nextFM"),async(e,{getState:t,dispatch:s,rejectWithValue:o})=>{const a=t(),{currentTrack:r}=a,{fm:i,current:p}=r,d={...r},h=i.length;if(h===p+1){const[m]=await q(s(ve(!1)));if(m)return o(null)}return d.current++,d.current%=h,d}),Ce=H(te("insertSong"),async(e,{rejectWithValue:t,dispatch:s})=>{const[o,a]=await q(Promise.all([qs(e),s(ue(e))]));return o||!(a!=null&&a[0])?t(null):a[0]}),Ve=H(te("fetchAndSetCurrentTrack"),async(e,{rejectWithValue:t,dispatch:s})=>{let o,a;typeof e=="number"?o=e:(o=e.id,a=e.isAlbum);let r;if(a){const[i,p]=await q(Js(o));if(i||!p)return t(null);r=p.songs}else{const[i,p]=await q(zs(o));if(i||!p)return t(null);r=p.playlist.tracks}s(nn({current:0,tracks:r,fm:[]}))}),{reducer:tn,actions:sn}=ee({name:"currentTrack",initialState:en,reducers:{setAutoPlay(e,t){const s={...e};return s.autoPlay=t.payload,s},setCurrentTrack(e,t){const{cacheCurrent:s,...o}=e,{current:a,tracks:r,fm:i}=t.payload;return i.length=0,{...o,current:a,tracks:r,fm:i,autoPlay:!0}},changeSong(e,t){const{tracks:s,current:o}=e,a=h=>Math.floor((h-1)*Math.random()),r=[],i=h=>{const{mode:m,next:y}=t.payload,g=s.length;let u;return m===G.RANDOM?u=a(g):(u=y?h+1:h-1,u<0&&(u+=g),u%=g),r.includes(u)||r.push(u),s[u].disable&&r.length<s.length&&(u=i(u)),u},p=i(o),d={...e};return d.current=p,d.autoPlay=!0,d},changeCurrent(e,t){const s={...e};return s.current=t.payload,s.autoPlay=!0,s}},extraReducers(e){const t=s=>s;e.addCase(ue.fulfilled,(s,o)=>({...s,song:o.payload})),e.addCase(ue.rejected,s=>({...s})),e.addCase(ve.fulfilled,(s,o)=>{const a={...s},{init:r,data:i}=o.payload;return a.fm=i,r&&(a.cacheCurrent=a.current),a.current=0,a.autoPlay=!0,a}),e.addCase(ve.rejected,t),e.addCase(de.fulfilled,s=>{const o={...s};return o.current++,o}),e.addCase(de.rejected,t),e.addCase(Ce.fulfilled,(s,o)=>{const a={...s};a.fm=[],a.tracks=[...a.tracks];let r=!1;return o.payload.songs.forEach(i=>{a.tracks.find(p=>i.id===p.id)||(a.tracks.push(i),r=!0)}),r&&(a.current=a.tracks.length-1),a.autoPlay=!0,a}),e.addCase(Ce.rejected,t),e.addCase(Ve.fulfilled,s=>{const o={...s};return o.autoPlay=!0,o}),e.addCase(Ve.rejected,t)}}),{setCurrentTrack:nn,changeSong:je,changeCurrent:on}=sn,qe=localStorage.getItem("controller"),rn=qe?M.parse(qe):{playMode:G.IN_TURN,pause:!0,currentTime:0,showDetail:!1,keywords:""},{reducer:an,actions:cn}=ee({name:"controller",initialState:rn,reducers:{setPlayMode(e,t){const s={...e};return s.playMode=t.payload,s},setPause(e,t){const s={...e};return s.pause=t.payload,s},setCurrentTime(e,t){const s={...e};return s.currentTime=t.payload,s},setShowDetail(e,t){const s={...e};return s.showDetail=t.payload,s},setKeywords(e,t){const s={...e};return s.keywords=t.payload,s},setController(e,t){return{...e,...t.payload}}}}),{setPlayMode:ln,setPause:pt,setCurrentTime:be,setShowDetail:Oe,setKeywords:ht,setController:ra}=cn,Ue=localStorage.getItem("currentTrack"),un=Ue?M.parse(Ue):{},{reducer:dn,actions:_n}=ee({name:"djDetail",initialState:un,reducers:{setDJDetail(e,t){return t.payload}}}),{setDJDetail:aa}=_n,Ee=Et({reducer:{user:Ys,userPlaylist:Ws,currentTrack:tn,controller:an,djDetail:dn}}),mn=({setShowLogin:e})=>{const t=F("login",ks),s=document.getElementById("portal"),[o,a]=c.exports.useState(""),[r,i]=c.exports.useState(""),p=P(),d=m=>{m.stopPropagation(),e(!1)},h=async m=>{if(m.preventDefault(),!o||!r)return;const y=await p(ce({phone:o,password:r}));if(ce.fulfilled.match(y)){Le.set("userInfo",y.payload);const{userId:g}=y.payload.profile;p(le(g)),e(!1),K.success("\u767B\u5F55\u6210\u529F\uFF5E")}};return X.exports.createPortal(n("div",{className:t("mask"),children:l("form",{className:t(),children:[n(we,{onClick:d}),n("img",{className:t("img"),src:As,alt:"login"}),l("div",{className:t("form"),children:[n("div",{className:t("form-item"),children:n("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",value:o,onChange:m=>a(m.target.value)})}),n("div",{className:t("form-item"),children:n("input",{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",value:r,onChange:m=>i(m.target.value)})})]}),n("button",{type:"submit",className:t("btn"),onClick:h,children:"\u767B\u5F55"})]})}),s)},pn=()=>{const e=F("sidebar",$e),[t,s]=c.exports.useState(),{push:o}=U(),{pathname:a}=De(),[r,i]=c.exports.useState(!1),{profile:p,cookie:d}=x(b=>b.user),h=x(b=>b.userPlaylist.playlist),m=P(),y=[{menus:[{name:"\u53D1\u73B0\u97F3\u4E50",icon:re,path:C.findMusic},{name:"\u79C1\u4EBAFM",icon:Pe,path:C.fm},{name:"\u89C6\u9891",icon:St,path:C.video,loginShow:!0},{name:"\u670B\u53CB",icon:Pe,path:C.friend}]},{title:"\u6211\u7684\u97F3\u4E50",menus:[{name:"iTunes\u97F3\u4E50",icon:re,path:C.iTunes},{name:"\u4E0B\u8F7D\u7BA1\u7406",icon:Ft,path:C.download},{name:"\u6700\u8FD1\u64AD\u653E",icon:Dt,path:C.recent},{name:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",icon:Nt,path:C.cloudMusic,loginShow:!0},{name:"\u6211\u7684\u7535\u53F0",icon:wt,path:C.radio,loginShow:!0},{name:"\u6211\u7684\u6536\u85CF",icon:at,path:C.collection,loginShow:!0}]},{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[{name:"\u6211\u559C\u6B22\u7684\u97F3\u4E50",icon:xe,path:A.list("")}]}],[g,u]=c.exports.useReducer(N,y),v=({menu:b,index:D})=>{const k=$(t,D);return l("div",{className:B(e("item"),{[$e["--active"]]:k}),onClick:()=>w({menu:b,index:D}),children:[n(b.icon,{}),n("a",{children:b.name})]},b.path)};function N(b,D){return[...b.slice(0,2),...D]}function w({menu:b,index:D}){s(D),o(b.path)}function f(){i(!0)}function S(){const b=Le.get("userInfo");if(!b)return;const D=M.parse(b);m(Zs(D));const{userId:k}=D.profile;m(le(k))}function R(){for(let b=0,D=g.length;b<D;b++){const{menus:k}=g[b];for(let I=0,Q=k.length;I<Q;I++){const W=k[I];if(a.includes(W.path))return[b,I]}}}function $(b,D){if(!b||!D||b.length!==b.length)return!1;for(let k=0,I=b.length;k<I;k++)if(b[k]!==D[k])return!1;return!0}function V(b,D){if(!!b.title)return n("div",{className:e("title"),children:D<2?b.title:l(T,{children:[l("div",{className:e("title-left"),children:[n(kt,{}),n("strong",{children:b.title})]}),b.title==="\u521B\u5EFA\u7684\u6B4C\u5355"&&n(it,{className:e("title-right")})]})})}function O(){d?o({pathname:A.user(p.userId),state:!0}):i(!0)}return c.exports.useEffect(()=>{const b=R();s(b)},[a]),c.exports.useEffect(()=>{S()},[]),c.exports.useEffect(()=>{const b=[{title:"\u521B\u5EFA\u7684\u6B4C\u5355",menus:[]},{title:"\u6536\u85CF\u7684\u6B4C\u5355",menus:[]}];!h||h.length===0||(h.forEach(D=>{const{name:k,id:I,userId:Q}=D,W=A.list(I),se={name:k,path:W,icon:re},pe=Q===p.userId?0:1;b[pe].menus.push(se)}),u(b))},[h]),l("aside",{className:e(),children:[l("header",{className:e("header"),children:[n("img",{src:ie(Y(p.avatarUrl,100)),alt:"icon",onClick:O}),n("strong",{onClick:f,children:p.nickname}),n(xt,{onClick:f})]}),n(Ie,{className:e("main"),children:g.map((b,D)=>l("div",{children:[V(b,D),b.menus.map((k,I)=>d||!k.loginShow?n(v,{menu:k,index:[D,I]},I):null)]},D))}),r&&n(mn,{setShowLogin:i})]})},hn="_footer_oumu4_1",gn="_footer__left_oumu4_30",fn="_footer__right_oumu4_58",yn="_footer__lyric_oumu4_62",vn="_footer__mid_oumu4_72",Cn="_footer__volume_oumu4_103";var z={footer:hn,"footer__progress-bar":"_footer__progress-bar_oumu4_14",footer__left:gn,"footer__left-name":"_footer__left-name_oumu4_42",footer__right:fn,footer__lyric:yn,"--active":"_--active_oumu4_69",footer__mid:vn,"--big":"_--big_oumu4_87","--medium":"_--medium_oumu4_90","--red":"_--red_oumu4_93","--disable":"_--disable_oumu4_96",footer__volume:Cn};const bn=(e,t)=>{const s=x(i=>i.controller.pause),o=P(),a=c.exports.useMemo(()=>s?At:Bt,[s]);function r(i){!t||o(pt(i))}return c.exports.useEffect(()=>{!(e!=null&&e.current)||(s?e.current.pause():e.current.play())},[s]),{PlayIcon:a,pause:s,handlePause:r}},En=(e,t,s)=>{const o=x(p=>p.controller.currentTime),a=P();return{currentTime:o,handleTimeUpdate:()=>{!(e!=null&&e.current)||a(be(e.current.currentTime*1e3))},handleProgressClick:p=>{if(!(t!=null&&t.current)||!(e!=null&&e.current)||!s)return;const{pageX:d}=p,{left:h,width:m}=t.current.getBoundingClientRect(),y=(d-h)/m*s/1e3;e.current.currentTime=y,a(be(y))}}},Sn=()=>{const e=x(r=>r.controller.playMode),t=P(),s=[{key:"inTurn",tip:"\u987A\u5E8F\u64AD\u653E",icon:Lt},{key:"loop",tip:"\u5FAA\u73AF\u64AD\u653E",icon:It},{key:"solo",tip:"\u5355\u66F2\u5FAA\u73AF",icon:Ot},{key:"random",tip:"\u968F\u673A\u64AD\u653E",icon:Tt}],o=c.exports.useMemo(()=>s[e],[e]);return{playMode:e,handleIconClick:()=>{const r=e===3?0:e+1;t(ln(r))},currentPlayMode:o}},Fn=()=>{const e=c.exports.useRef(null),[t,s]=c.exports.useState(!1);return{listButtonRef:e,showList:t,setShowList:s}},Dn=()=>{const[e,t]=c.exports.useState(!1);return{lyricActive:e,setLyricActive:t}},Nn=e=>{const[t,s]=c.exports.useState(100);return{volume:t,setVolume:s,handleVolumeChange:r=>{s(r.currentTarget.volume*100)},handleSliderChange:r=>{!(e!=null&&e.current)||(e.current.volume=r/100)}}},wn="_fold_7eol0_1";var He={"music-detail":"_music-detail_7eol0_1",fold:wn,"music-detail__shim":"_music-detail__shim_7eol0_14","--show":"_--show_7eol0_31","music-detail__player":"_music-detail__player_7eol0_34","music-detail__info":"_music-detail__info_7eol0_41","music-detail__comment":"_music-detail__comment_7eol0_46"};const xn="_cover_j60n2_1",kn="_cover__inner_j60n2_11",An="_rotate_j60n2_1";var Je={cover:xn,cover__inner:kn,"--animate":"_--animate_j60n2_17",rotate:An};const Bn="_img_pj7a2_1",Ln="_img__play_pj7a2_11",In="_img__loading_pj7a2_31",On="_img__count_pj7a2_39";var ne={img:Bn,img__play:Ln,"--center":"_--center_pj7a2_18","--bottom":"_--bottom_pj7a2_23","--show":"_--show_pj7a2_28",img__loading:In,img__count:On};const Tn="_icon_fxwxv_1",Pn="_icon__play_fxwxv_11",Rn="_icon__pause_fxwxv_19";var Ge={icon:Tn,icon__play:Pn,icon__pause:Rn,"--small":"_--small_fxwxv_23","--medium":"_--medium_fxwxv_28","--big":"_--big_fxwxv_33","--large":"_--large_fxwxv_38","--giant":"_--giant_fxwxv_43"};const Mn=e=>{const t=F("icon",Ge),{type:s="play",size:o,className:a,...r}=e;return n("span",{className:B(Ge[`--${o}`],a,t()),tabIndex:-1,...r,children:s==="play"?n("span",{className:t("play")}):n("span",{className:t("pause"),children:"| |"})})},_e=({alt:e="",banLoading:t=!1,style:s,className:o,src:a,icon:r=!1,count:i,onClick:p,onIconClick:d})=>{const h=F("img",ne),m=c.exports.useRef(null),[y,g]=c.exports.useState(!1),[u,v]=c.exports.useState(!0),[N,w]=c.exports.useState(!1),f=c.exports.useMemo(()=>{const $={size:"small",placement:"center",hoverDisplay:!1};return r===!1?!1:r===!0?$:{...$,...r}},[r]),S=new IntersectionObserver($=>{$.forEach(V=>{var O;V.isIntersecting&&m&&((O=m.current)==null?void 0:O.style)&&g(!0)})});function R(){v(!1)}return c.exports.useEffect(()=>{if(!!m.current)return S.observe(m.current),()=>{!m.current||(S.unobserve(m.current),S.disconnect())}},[]),l("div",{ref:m,className:B(h(),o),style:s,children:[y&&n("img",{src:ie(a),alt:e,onLoad:R,onMouseMove:()=>w(!0),onMouseLeave:()=>w(!1),onClick:p}),!t&&u&&n(Pt,{className:h("loading")}),!u&&f&&n(Mn,{size:f.size,className:B(h("play"),ne[`--${f.size}`],ne[`--${f.placement}`],{[ne["--show"]]:!f.hoverDisplay||N}),onMouseMove:()=>w(!0),onClick:d}),i&&l("div",{className:h("count"),children:[n(ke,{}),i]})]})},$n=({img:e,pause:t})=>{const s=F("cover",Je);return n(T,{children:n("div",{className:s(),children:n(_e,{className:B(s("inner"),{[Je["--animate"]]:!t}),src:Y(e,300)})})})};var zn={"button-group":"_button-group_ervze_1","button-group__item":"_button-group__item_ervze_6"};const Vn=({data:e})=>{const t=F("button-group",zn);return n("ul",{className:t(),children:e.map((s,o)=>n("li",{className:t("item"),onClick:s.event,children:n(s.icon,{})},o))})},jn="_lyric_19q8r_1",qn="_lyric__quality_19q8r_19",Un="_lyric__info_19q8r_30",Hn="_lyric__wrapper_19q8r_46",Jn="_lyric__question_19q8r_69",Gn="_lyric__anchor_19q8r_81",Yn="_lyric__container_19q8r_84";var Ye={lyric:jn,"lyric__music-name":"_lyric__music-name_19q8r_12",lyric__quality:qn,lyric__info:Un,lyric__wrapper:Hn,"--selected":"_--selected_19q8r_65",lyric__question:Jn,lyric__anchor:Gn,lyric__container:Yn};const Kn=({music:e})=>{const t=F("lyric",Ye),[s,o]=c.exports.useState([]),a=x(y=>y.controller.currentTime),r=c.exports.useRef(null),[i,p]=c.exports.useState(0),{push:d}=U();function h(y){const g=[];return y.split(`
`).forEach(v=>{v.replace(/\[(.*?)\](.*)(\[.*?\])?/,(N,w,f)=>{const S=[bs(w)];return!f||!f.trim()||g.push({timestamp:S,value:f}),""})}),g}function m(){var N,w;if(!(r!=null&&r.current))return;const y=s.length;if(i===y-1)return;const g=r.current;let u=0;for(let f=i;f<y;f++)if(!!((w=(N=s[f])==null?void 0:N.timestamp)!=null&&w[0])&&a<=s[f].timestamp[0]){p(f-1),u=f-1;break}const v=44*u*window.innerWidth/1e3;u!==i&&g.scrollTo({top:v,behavior:"smooth"})}return c.exports.useEffect(()=>{var y;if(!!(e!=null&&e.id))return(y=r.current)==null||y.scrollTo({top:0}),p(0),Rs(e.id).then(g=>{const{lrc:u,nolyric:v}=g;o(v?[]:h(u.lyric))}),Z},[e==null?void 0:e.id]),c.exports.useEffect(()=>{s.length&&m()},[a,s]),l("div",{className:t(),children:[l("h2",{children:[n("span",{className:t("music-name"),children:e==null?void 0:e.name}),n("span",{className:t("quality"),children:"\u6807\u51C6\u97F3\u8D28"})]}),l("div",{className:t("info"),children:[l("p",{children:[n("span",{children:"\u4E13\u8F91\uFF1A"}),n("a",{onClick:()=>d(A.list(e.album.id,"album")),children:e==null?void 0:e.album.name})]}),l("p",{children:[n("span",{children:"\u6B4C\u624B\uFF1A"}),e==null?void 0:e.artists.map(y=>n("a",{className:t("anchor"),onClick:()=>d(A.singer(y.id)),children:y.name},y.name))]})]}),n("div",{className:t("container"),children:s.length>0?n(Ie,{ref:r,className:t("wrapper"),children:s.map((y,g)=>n("p",{className:B({[Ye["--selected"]]:g===i}),children:y.value},g))}):n("span",{children:"\u7EAF\u97F3\u4E50\uFF0C\u8BF7\u60A8\u6B23\u8D4F"})}),n(Rt,{className:t("question")})]})},Zn="_comments_1stot_1",Qn="_comments__left_1stot_9",Wn="_comments__img_1stot_12",Xn="_comments__right_1stot_18",eo="_comments__info_1stot_34",to="_comments__icons_1stot_39",so="_comments__icon_1stot_39";var Ke={comments:Zn,comments__left:Qn,comments__img:Wn,comments__right:Xn,"--mentioned":"_--mentioned_1stot_21",comments__info:eo,comments__icons:to,comments__icon:so};const Ze=({comment:e})=>{var r;const t=F("comments",Ke),{push:s}=U(),o=[{icon:ct,value:e.likedCount},{icon:Mt},{icon:$t}];function a(){s(A.user(e.user.userId))}return l("div",{className:t(),children:[n("div",{className:t("left"),children:n(_e,{className:t("img"),src:Y((e==null?void 0:e.user.avatarUrl)||dt,30),onClick:a})}),l("div",{className:t("right"),children:[l("p",{children:[l("a",{onClick:a,children:[e.user.nickname,"\uFF1A"]}),e.content]}),((r=e.beReplied)==null?void 0:r.length)>0&&n("p",{className:Ke["--mentioned"],children:e.beReplied.map(i=>l("span",{children:[l("a",{onClick:()=>s(A.user(i.user.userId)),children:["@",i.user.nickname,"\uFF1A"]}),i.content]},i.beRepliedCommentId))}),l("div",{className:t("info"),children:[n("span",{children:rt(e.time).format("YYYY\u5E74M\u6708D\u65E5 HH:mm")}),n("div",{className:t("icons"),children:o.map((i,p)=>l("div",{className:t("icon"),children:[n(i.icon,{}),i.value&&i.value>0?n("strong",{children:i.value}):null]},p))})]})]})]})};var no={"comment-group__title":"_comment-group__title_1v435_1","comment-group__footer":"_comment-group__footer_1v435_5","comment-group__empty":"_comment-group__empty_1v435_11"};const oo=({id:e,functionChildren:t,api:s})=>{const o=F("comment-group",no),[a,r]=c.exports.useState([]),[i,p]=c.exports.useState([]),[d,h]=c.exports.useState(0),[m,y]=c.exports.useState(1);async function g(u,v=1,N=20){if(!u)return;const w=(v-1)*N,f=await s(u,w);r(f.comments),f.hotComments&&p(f.hotComments),h(f.total)}return c.exports.useEffect(()=>(e&&g(e),Z),[e]),n("div",{className:o(),children:d>0?l(T,{children:[t==null?void 0:t(d),i.length>0&&l(T,{children:[n("h2",{className:o("title"),children:"\u7CBE\u5F69\u8BC4\u8BBA"}),i.map(u=>n(Ze,{comment:u},u.commentId))]}),a.length>0&&l(T,{children:[l("h2",{className:o("title"),children:["\u6700\u65B0\u8BC4\u8BBA\uFF08",d,"\uFF09"]}),a.map(u=>n(Ze,{comment:u},u.commentId))]}),d>20&&n("footer",{className:o("footer"),children:n(zt,{total:d,showSizeChanger:!1,current:m,onChange:(u,v)=>{y(u),g(e,u,v)}})})]}):n("div",{className:o("empty"),children:"\u8FD8\u6CA1\u6709\u8BC4\u8BBA\uFF0C\u5FEB\u6765\u62A2\u6C99\u53D1\uFF5E"})})},ro="_recommend_1byjg_1",ao="_recommend__title_1byjg_5",io="_recommend__item_1byjg_12",co="_recommend__img_1byjg_29";var lo={recommend:ro,recommend__title:ao,recommend__item:io,"recommend__item-info":"_recommend__item-info_1byjg_20",recommend__img:co};const uo=({id:e})=>{const t=F("recommend",lo),[s,o]=c.exports.useState([]),[a,r]=c.exports.useState([]);async function i(){const d=await Vs(e);o(d.playlists)}async function p(){const d=await js(e);r(d.songs)}return c.exports.useEffect(()=>(i(),p(),Z),[e]),l("div",{className:t(),children:[n("h2",{className:t("title"),children:"\u5305\u542B\u8FD9\u9996\u6B4C\u7684\u6B4C\u5355"}),s.map(d=>l("div",{className:t("item"),children:[n(_e,{className:t("img"),src:Y(d.coverImgUrl,100)}),l("div",{className:t("item-info"),children:[n("div",{children:d.name}),n("div",{children:vs(d.playCount)})]})]},d.id)),n("h2",{className:t("title"),children:"\u76F8\u4F3C\u6B4C\u66F2"}),a.map(d=>l("div",{className:t("item"),children:[n(_e,{className:t("img"),src:Y(d.album.picUrl,100),icon:!0}),l("div",{className:t("item-info"),children:[n("div",{children:d.name}),n("div",{children:d.artists.reduce((h,m)=>`${h} ${m.name}`,"").slice(1)})]})]},d.id))]})};var _o={"write-comment__title":"_write-comment__title_16b6h_1","write-comment__input":"_write-comment__input_16b6h_5"};const mo=({count:e})=>{const t=F("write-comment",_o);return l(T,{children:[l("div",{className:t("title"),children:[n("strong",{children:"\u542C\u53CB\u8BC4\u8BBA"}),l("span",{children:["\uFF08\u5DF2\u6709",e,"\u6761\u8BC4\u8BBA\uFF09"]})]}),l("div",{className:t("input"),children:[l("span",{children:[n(Vt,{}),n("span",{style:{marginLeft:"5px"},children:"\u53D1\u8868\u8BC4\u8BBA"})]}),n("p",{children:"@"})]})]})},po="_button_1iyu2_1",ho="_button__left_1iyu2_10",go="_button__right_1iyu2_24";var oe={button:po,button__left:ho,button__right:go,"--compose":"_--compose_1iyu2_34","--normal":"_--normal_1iyu2_41"};const fo=e=>{const t=F("button",oe),{compose:s,children:o,className:a,...r}=e,i=l(T,{children:[l("div",{className:t("left"),children:[n(ke,{}),"\u64AD\u653E\u5168\u90E8"]}),n("div",{className:t("right"),children:n(it,{})})]});return n("button",{className:B(oe.button,s?oe["--compose"]:oe["--normal"],a),...r,children:s?i:o})};var yo={"radio-detail":"_radio-detail_11477_1","radio-detail__name":"_radio-detail__name_11477_8","radio-detail__detail":"_radio-detail__detail_11477_20","radio-detail__item":"_radio-detail__item_11477_25","radio-detail__tag":"_radio-detail__tag_11477_38","radio-detail__tag-wrapper":"_radio-detail__tag-wrapper_11477_49"};const vo=({music:e})=>{var o;const t=F("radio-detail",yo),s=x(a=>a.djDetail);return l("div",{className:t(),children:[n("h2",{children:e.name}),l("div",{className:t("name"),children:[n("strong",{children:s==null?void 0:s.name}),l(fo,{children:[n(at,{})," \u8BA2\u9605(",s.subCount,")"]})]}),l("div",{className:t("detail"),children:[l("div",{className:t("item"),children:[n("label",{children:"\u4E3B\u64AD:"}),n("a",{children:(o=s.dj)==null?void 0:o.nickname})]}),l("div",{className:t("item"),children:[n("label",{children:"\u6765\u6E90:"}),n("a",{children:s.original})]}),l("div",{className:t("item"),children:[n("label",{children:"\u521B\u5EFA\u65F6\u95F4:"}),n("span",{children:s.createTime})]}),l("div",{className:t("item"),children:[n("label",{children:"\u5DF2\u64AD\u653E:"}),l("span",{children:[s.playCount,"\u6B21"]})]})]}),l("div",{className:t("tag-wrapper"),children:[n("span",{className:t("tag"),children:s.category}),s.desc]})]})},Co=({visible:e})=>{const t=F("music-detail",He),s=x(d=>d.controller.pause),o=P(),a=x(d=>{var h;return!((h=d.currentTrack.song)!=null&&h.flag)}),r=x(d=>{const{current:h,tracks:m,fm:y}=d.currentTrack;if(!(h<0||y.length>0)&&m[h])return p(m[h])}),i=[{icon:xe},{icon:Ae},{icon:qt},{icon:Ut}];function p(d){const{name:h,id:m,dt:y,al:g,ar:u}=d;return{id:m,name:h,duration:y,album:g,artists:u}}return X.exports.createPortal(l(T,{children:[e&&r&&n("div",{className:t("shim"),children:n(jt,{onClick:()=>o(Oe(!1))})}),r&&l("div",{className:B(t(),{[He["--show"]]:e}),children:[l("section",{className:t("player"),children:[l("div",{children:[n($n,{img:r.album.picUrl,pause:s}),n(Vn,{data:i})]}),a?n(vo,{music:r}):n(Kn,{music:r})]}),l("div",{className:t("info"),children:[n(oo,{id:r==null?void 0:r.id,api:a?Gs:$s,functionChildren:d=>n(mo,{count:d})}),!a&&n(uo,{id:r==null?void 0:r.id})]})]})]}),document.getElementById("music-detail"))};var Qe={"music-list":"_music-list_qtnd1_1","--show":"_--show_qtnd1_15","music-list__header":"_music-list__header_qtnd1_18","music-list__subtitle":"_music-list__subtitle_qtnd1_28","music-list__subtitle-right":"_music-list__subtitle-right_qtnd1_33","music-list__subtitle-all":"_music-list__subtitle-all_qtnd1_38","music-list__subtitle-clear":"_music-list__subtitle-clear_qtnd1_44","music-list__total":"_music-list__total_qtnd1_52"};const bo="_table_1ltg6_1",Eo="_table__cell_1ltg6_29";var ge={table:bo,"--active":"_--active_1ltg6_20","--disable":"_--disable_1ltg6_23",table__cell:Eo},So="svg/no-music-ed6bb8c2.svg",Fo={"no-data":"_no-data_2e6x3_1","no-data__wrapper":"_no-data__wrapper_2e6x3_7"};const gt=({title:e,subTitle:t})=>{const s=F("no-data",Fo);return n("div",{className:s("wrapper"),children:l("div",{className:s(),children:[n("img",{src:So,alt:"no-music"}),e&&n("h3",{children:e}),t&&n("div",{children:t})]})})},Do=({columns:e,data:t,disableColumn:s="disable",noHead:o=!1,selectedRow:a,onDoubleClick:r})=>{const i=F("table",ge),[p,d]=c.exports.useState(-1);function h(m){if(!!r){if(t[m][s]){K.error("\u5E94\u5408\u4F5C\u65B9\u8981\u6C42\uFF0C\u8BE5\u8D44\u6E90\u6682\u65F6\u4E0B\u67B6>_<");return}r(m)}}return c.exports.useEffect(()=>{a!==void 0&&d(a)},[a]),l(T,{children:[l("table",{className:i(),children:[n("colgroup",{}),!o&&n("thead",{children:n("tr",{children:e.map((m,y)=>n("th",{children:n("div",{className:i("cell"),children:m.title})},y))})}),n("tbody",{children:t.length>0?t.map((m,y)=>n("tr",{className:B({[ge["--active"]]:p===y,[ge["--disable"]]:m[s]}),onDoubleClick:()=>h(y),children:e.map((g,u)=>{let v;return g.render?v=g.render(m):g.key&&(v=is(m,g.key),g.format&&(v=g.format(v))),n("td",{children:n("div",{className:i("cell"),children:v})},u)})},y)):null})]}),t.length>0?null:n(gt,{subTitle:"\u6682\u65E0\u6570\u636E"})]})},No=({visible:e,setVisible:t,target:s})=>{const o=F("music-list",Qe),a=P(),r=x(h=>h.currentTrack),i=c.exports.useRef(null),p=[{title:"\u97F3\u4E50\u6807\u9898",key:"name"},{title:"\u6B4C\u624B",render(h){return h.ar.map(m=>n("span",{children:m.name},m.id))}},{title:"\u94FE\u63A5\u5230",key:""},{title:"\u65F6\u957F",key:"dt",format:fe}];function d(h){a(on(h))}return st(i,h=>{h.target!==(s==null?void 0:s.querySelector("svg"))&&t(!1)}),X.exports.createPortal(l("div",{ref:i,className:B(o(),{[Qe["--show"]]:e}),children:[l("header",{className:o("header"),children:[n("h2",{children:"\u5F53\u524D\u64AD\u653E"}),l("div",{className:o("subtitle"),children:[l("div",{className:o("total"),children:["\u603B",r.tracks.length,"\u9996"]}),l("div",{className:o("subtitle-right"),children:[l("span",{className:o("subtitle-all"),children:[n(Ht,{}),"\u6536\u85CF\u5168\u90E8"]}),n("span",{className:o("subtitle-clear"),children:"\u6E05\u7A7A\u5217\u8868"})]})]})]}),n("section",{className:o("subtitle-table"),children:n(Do,{noHead:!0,selectedRow:r.current,data:r.tracks,columns:p,onDoubleClick:d})})]}),document.getElementById("drawer"))},wo=()=>{const e=F("footer",z),t=c.exports.useRef(null),s=c.exports.useRef(null),o=P(),{push:a}=U(),r=x(L=>L.controller.showDetail),i=x(L=>L.currentTrack.autoPlay||!1),{listButtonRef:p,showList:d,setShowList:h}=Fn(),m=x(L=>L.currentTrack.fm.length),{lyricActive:y,setLyricActive:g}=Dn(),u=x(L=>{const{current:j,tracks:he,fm:Te}=L.currentTrack;if(!(j<0)){if(!m)return he[j];if(Te[j])return Es(Te[j])}}),v=x(L=>{const{current:j,tracks:he}=L.currentTrack;return j+1===he.length}),N=x(L=>L.currentTrack.song),{PlayIcon:w,pause:f,handlePause:S}=bn(t,u),{currentTime:R,handleTimeUpdate:$,handleProgressClick:V}=En(t,s,u==null?void 0:u.dt),{playMode:O,handleIconClick:b,currentPlayMode:D}=Sn(),{volume:k,handleSliderChange:I,handleVolumeChange:Q}=Nn(t);function W(){if(m){o(de());return}!u||O!==G.SOLO&&(O===G.IN_TURN&&v?o(be(0)):o(je({mode:O,next:!0})))}function se(L){if(!m&&u){o(je({mode:O,next:L}));return}L&&o(de())}function pe(){m&&a(C.fm),o(Oe(!r))}return c.exports.useEffect(()=>(u!=null&&u.id&&o(ue(u.id)),Z),[u==null?void 0:u.id]),l("footer",{className:e(),children:[(u==null?void 0:u.dt)&&n("progress",{ref:s,className:e("progress-bar"),value:R,max:u.dt,onClick:V}),n("div",{className:e("left"),children:u&&N&&l(T,{children:[n("audio",{ref:t,src:ie(N.url),controls:!0,autoPlay:i,loop:O===G.SOLO,onTimeUpdate:$,onPlay:()=>S(!1),onPause:()=>S(!0),onEnded:W,onVolumeChange:Q}),n("img",{src:ie(Y(u.al.picUrl,100)),alt:"music",onClick:pe}),l("div",{className:e("left-name"),children:[l("div",{children:[u.name," -"," ",u.ar.reduce((L,j)=>`${L}/${j.name}`,"").slice(1)]}),l("div",{children:[fe(R)," / ",fe(u.dt)]})]})]})}),l("div",{className:e("mid"),children:[m?n(xe,{}):n(ct,{}),n(Jt,{className:B(z["--medium"],z["--red"],{[z["--disable"]]:m}),onClick:()=>se(!1)}),n(w,{className:B(z["--big"],z["--red"]),onClick:()=>S(!f)}),n(Gt,{className:B(z["--medium"],z["--red"]),onClick:()=>se(!0)}),m?n(Ae,{}):n(Yt,{})]}),l("div",{className:e("right"),children:[!m&&n(Kt,{}),n(Re,{title:D.tip,children:n(D.icon,{onClick:b})}),!m&&u&&n(lt,{ref:p,onClick:()=>h(!d)}),n("span",{className:B(e("lyric"),{[z["--active"]]:y}),onClick:()=>g(!y),children:"\u8BCD"}),u&&n(Re,{title:()=>n("div",{className:e("volume"),children:n(Zt,{vertical:!0,value:k,onChange:I})}),children:n(Qt,{})})]}),n(Co,{visible:r}),n(No,{visible:d,setVisible:h,target:p.current})]})};var xo="svg/not-found-4a7109ca.svg",ko={"not-found":"_not-found_r5k7l_1"};const Ao=()=>{const e=F("not-found",ko);return n("div",{className:e(),children:n("img",{src:xo,alt:"404"})})},Se=F("main"),Bo=({routes:e})=>{const{pathname:t}=De(),s=P();function o(){const i=Ee.getState(),{cacheCurrent:p,current:d}=i.currentTrack;let h=d;p!==void 0&&(h=p),localStorage.setItem("djDetail",M.stringify({...i.djDetail})),localStorage.setItem("currentTrack",M.stringify({...i.currentTrack,current:h,autoPlay:!1,fm:[]})),localStorage.setItem("controller",M.stringify({...i.controller,pause:!0}))}function a(i,p){if(i.code==="Space"){const d=document.activeElement;(!d||d===document.body)&&(i.stopPropagation(),i.preventDefault(),p==null||p())}}function r(i){a(i,()=>{const p=Ee.getState();s(pt(!p.controller.pause))})}return c.exports.useEffect(()=>{s(Oe(!1)),Z()},[t]),c.exports.useEffect(()=>(window.addEventListener("beforeunload",o),document.addEventListener("keyup",r),document.addEventListener("keydown",a),()=>{window.removeEventListener("beforeunload",o),document.removeEventListener("keyup",r),document.removeEventListener("keydown",a)}),[]),l(T,{children:[l("section",{className:"container",children:[n(pn,{}),n(Ie,{className:Se(),children:n(c.exports.Suspense,{fallback:n(ut,{className:Se("loading"),style:{position:"absolute"}}),children:l(nt,{children:[e&&e.map(i=>{const{component:p,...d}=i;return n(ot,{...d,render:h=>n(p,{},h.match.url)},i.path)}),n(Ao,{})]})})})]}),n(wo,{})]})};var C=(e=>(e.root="/",e.home="/home",e.fm="/home/fm",e.searchResult="/home/search-result",e.dailyRecommend="/home/daily-recommend",e.findMusic="/home/find-music",e.findMusicMusicList="/home/find-music/music-list",e.findMusicRadioHost="/home/find-music/radio-host",e.findMusicRadioHostPay="/home/find-music/radio-host/pay",e.findMusicRank="/home/find-music/rank",e.findMusicSinger="/home/find-music/singer",e.findMusicNewest="/home/find-music/newest",e.video="/home/video",e.videoMV="/home/video/mv",e.friend="/home/friend",e.iTunes="/home/i-tunes",e.download="/home/download",e.downloadProgram="/home/download/program",e.downloadPendding="/home/download/pendding",e.recent="/home/recent",e.cloudMusic="/home/cloud-music",e.radio="/home/radio",e.collection="/home/collection",e.collectionSinger="/home/collection/singer",e.collectionVideo="/home/collection/video",e.collectionColumn="/home/collection/column",e.setting="/home/setting",e))(C||{});const Fe=e=>e?`/${e}`:"",J=(e,t,s="id")=>{const o=`/${e}`;return t===void 0?`${o}/:${s}?`:o+Fe(t)},We=(e,t,s)=>t===void 0?`/${e}/:id?/:type?`:`/${e}${Fe(t)}${Fe(s)}`,A={list:(e,t)=>We("home/list",e,t),singer:e=>J("home/singer",e),user:e=>J("home/user",e),findMusicNewest:e=>J("home/find-music/newest",e,"type"),playVideo:e=>J("play-video",e),radioList:(e,t)=>We("home/radio-list",e,t),excellentList:e=>J("home/find-music/music-list/excellent",e),radioZone:e=>J("home/find-music/radio-host/zone",e,"type")},ft={"find-music":[{label:"\u4E2A\u6027\u63A8\u8350",component:c.exports.lazy(()=>E(()=>import("./index-509e1a06.js"),["js/index-509e1a06.js","css/index-e82747ee.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-932fdc92.js","css/index-2692bf2f.css","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"])),path:C.findMusic,exact:!0},{label:"\u6B4C\u5355",component:c.exports.lazy(()=>E(()=>import("./index-8d6fe17d.js"),["js/index-8d6fe17d.js","css/index-ed8dc3ba.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-51519b48.js","css/index-e010c0aa.css","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"])),path:C.findMusicMusicList,exact:!0},{label:"\u4E3B\u64AD\u7535\u53F0",component:c.exports.lazy(()=>E(()=>import("./index-96011a6f.js"),["js/index-96011a6f.js","css/index-d2541e3d.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-932fdc92.js","css/index-2692bf2f.css","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"])),path:C.findMusicRadioHost,exact:!0},{label:"\u6392\u884C\u699C",component:c.exports.lazy(()=>E(()=>import("./index-622e85c5.js"),["js/index-622e85c5.js","css/index-89bc3d52.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"])),path:C.findMusicRank},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>E(()=>import("./index-6b8b62a8.js"),["js/index-6b8b62a8.js","css/index-11f2a020.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-964a4302.js","js/index-b5c86e7c.js","css/index-65a24dfc.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.findMusicSinger},{label:"\u6700\u65B0\u97F3\u4E50",component:c.exports.lazy(()=>E(()=>import("./index-1e49261c.js"),["js/index-1e49261c.js","css/index-4765b247.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-964a4302.js","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"])),path:C.findMusicNewest}],video:[{label:"\u89C6\u9891",component:c.exports.lazy(()=>E(()=>import("./index-aec98618.js"),["js/index-aec98618.js","css/index-48ca44ee.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-32624bd0.js","css/index-1fde7e75.css","js/index-e699ccf4.js","css/index-76ebda23.css","js/index-51519b48.js","css/index-e010c0aa.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.video,exact:!0},{label:"MV",component:c.exports.lazy(()=>E(()=>import("./index-fb8a8042.js"),["js/index-fb8a8042.js","css/index-db88c1c7.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-32624bd0.js","css/index-1fde7e75.css","js/index-964a4302.js","js/index-e699ccf4.js","css/index-76ebda23.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.videoMV}],friend:[{label:"\u52A8\u6001",component:c.exports.lazy(()=>E(()=>import("./index-e93e2820.js"),["js/index-e93e2820.js","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.friend}],"i-tunes":[{label:"iTunes\u97F3\u4E50",component:c.exports.lazy(()=>E(()=>import("./index-5263c745.js"),["js/index-5263c745.js","css/index-63268595.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.iTunes}],download:[{label:"\u5DF2\u4E0B\u8F7D\u5355\u66F2",component:c.exports.lazy(()=>E(()=>import("./index-160abc3d.js"),["js/index-160abc3d.js","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-e4846ec3.js","css/index-01c1781a.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.download,exact:!0},{label:"\u5DF2\u4E0B\u8F7D\u8282\u76EE",component:c.exports.lazy(()=>E(()=>import("./index-df85ee4d.js"),["js/index-df85ee4d.js","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-e4846ec3.js","css/index-01c1781a.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.downloadProgram},{label:"\u6B63\u5728\u4E0B\u8F7D",component:c.exports.lazy(()=>E(()=>import("./index-fef1ec58.js"),["js/index-fef1ec58.js","css/index-1b65357d.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.downloadPendding}],recent:[{label:"\u6700\u8FD1\u64AD\u653E",component:c.exports.lazy(()=>E(()=>import("./index-8309da23.js"),["js/index-8309da23.js","css/index-985a0294.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.recent}],"cloud-music":[{label:"\u6211\u7684\u97F3\u4E50\u4E91\u76D8",component:c.exports.lazy(()=>E(()=>import("./index-f1ca4a2a.js"),["js/index-f1ca4a2a.js","css/index-09e80a50.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-964a4302.js","js/index-b5c86e7c.js","css/index-65a24dfc.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.cloudMusic}],radio:[{label:"\u6211\u7684\u7535\u53F0",component:c.exports.lazy(()=>E(()=>import("./index-2211f345.js"),["js/index-2211f345.js","css/index-1be8b182.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-8b9319c3.js","css/index-6409d9b6.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.radio}],collection:[{label:"\u4E13\u8F91",component:c.exports.lazy(()=>E(()=>import("./index-41e926b0.js"),["js/index-41e926b0.js","css/index-19b552b8.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-8b9319c3.js","css/index-6409d9b6.css","js/index-23ae747b.js","css/index-e45ef900.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.collection,exact:!0},{label:"\u6B4C\u624B",component:c.exports.lazy(()=>E(()=>import("./index-769e8fa9.js"),["js/index-769e8fa9.js","css/index-77191418.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-8b9319c3.js","css/index-6409d9b6.css","js/index-23ae747b.js","css/index-e45ef900.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.collectionSinger},{label:"\u89C6\u9891",component:c.exports.lazy(()=>E(()=>import("./index-61482f5f.js"),["js/index-61482f5f.js","css/index-8ad9c84e.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-23ae747b.js","css/index-e45ef900.css","js/index-e699ccf4.js","css/index-76ebda23.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.collectionVideo},{label:"\u4E13\u680F",component:c.exports.lazy(()=>E(()=>import("./index-223b0330.js"),["js/index-223b0330.js","css/index-0ddc6bf5.css","js/index-23ae747b.js","css/index-e45ef900.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.collectionColumn}],setting:[{label:"\u8BBE\u7F6E",component:c.exports.lazy(()=>E(()=>import("./index-af2bc39e.js"),["js/index-af2bc39e.js","css/index-bf4b0459.css","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/react-d9689425.js","js/lodash-87ac67d6.js","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"])),path:C.setting}]},Lo=[{path:C.home,exact:!0,component:Bo,routes:[{path:C.fm,component:c.exports.lazy(()=>E(()=>import("./index-c091280e.js"),["js/index-c091280e.js","css/index-f1cc5e9d.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"]))},{path:A.list(),component:c.exports.lazy(()=>E(()=>import("./index-f2abe9ca.js"),["js/index-f2abe9ca.js","css/index-7ac0ab9b.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/collector.module-da30ffb6.js","css/collector.module-7b8bb6c7.css","js/react-redux-ace978cf.js","js/write-comment-6ffd28fa.js","css/write-comment-245ec406.css","js/index-964a4302.js","js/react-router-dom-94468eab.js"]))},{path:A.singer(),component:c.exports.lazy(()=>E(()=>import("./index-fbf6331b.js"),["js/index-fbf6331b.js","css/index-f67a68db.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-47cf7227.js","css/index-11494661.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"]))},{path:C.searchResult,component:c.exports.lazy(()=>E(()=>import("./index-628c6928.js"),["js/index-628c6928.js","css/index-0c6b5e41.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-9678f7ca.js","css/index-91bec25c.css","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"]))},{path:A.user(),component:c.exports.lazy(()=>E(()=>import("./index-84a2bb99.js"),["js/index-84a2bb99.js","css/index-c753a929.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-9678f7ca.js","css/index-91bec25c.css","js/index-47cf7227.js","css/index-11494661.css","js/index-a9f76cdf.js","css/index-69065f68.css","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"]))},{path:C.dailyRecommend,component:c.exports.lazy(()=>E(()=>import("./index-d0d11d43.js"),["js/index-d0d11d43.js","css/index-1e938c76.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-964a4302.js","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"]))},{path:A.findMusicNewest(),component:c.exports.lazy(()=>E(()=>import("./index-1e49261c.js"),["js/index-1e49261c.js","css/index-4765b247.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-964a4302.js","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"]))},{path:A.radioList(),component:c.exports.lazy(()=>E(()=>import("./index-8bd1f6d2.js"),["js/index-8bd1f6d2.js","css/index-b0d5c60f.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/collector.module-da30ffb6.js","css/collector.module-7b8bb6c7.css","js/index-b5c86e7c.js","css/index-65a24dfc.css","js/react-redux-ace978cf.js","js/react-router-dom-94468eab.js"]))},{path:A.excellentList(),component:c.exports.lazy(()=>E(()=>import("./index-663cf94d.js"),["js/index-663cf94d.js","css/index-50c1e96e.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-51519b48.js","css/index-e010c0aa.css","js/react-redux-ace978cf.js","js/index-b5c86e7c.js","css/index-65a24dfc.css","js/react-router-dom-94468eab.js"]))},{path:A.radioZone(),component:c.exports.lazy(()=>E(()=>import("./index-a0f709f6.js"),["js/index-a0f709f6.js","css/index-dcf2003d.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-b5c86e7c.js","css/index-65a24dfc.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"]))},{path:C.findMusicRadioHostPay,component:c.exports.lazy(()=>E(()=>import("./index-477bc2fa.js"),["js/index-477bc2fa.js","css/index-b7759ce6.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/index-b5c86e7c.js","css/index-65a24dfc.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"]))},...Object.values(ft).flat()]},{path:A.playVideo(),component:c.exports.lazy(()=>E(()=>import("./index-99f521f4.js"),["js/index-99f521f4.js","css/index-7240d91a.css","js/react-d9689425.js","js/vendor-448858a9.js","css/vendor-d8276de7.css","js/lodash-87ac67d6.js","js/write-comment-6ffd28fa.js","css/write-comment-245ec406.css","js/react-router-dom-94468eab.js","js/react-redux-ace978cf.js"]))}],Io="_header_1mmlg_1",Oo="_header__left_1mmlg_6",To="_header__right_1mmlg_21";var Xe={header:Io,header__left:Oo,"header__left-icon":"_header__left-icon_1mmlg_17",header__right:To,"header__right-menu":"_header__right-menu_1mmlg_29","--active":"_--active_1mmlg_35","header__right-wrapper":"_header__right-wrapper_1mmlg_53","header__right-icons":"_header__right-icons_1mmlg_57"};const Po="_input_bex9z_1",Ro="_input__icon_bex9z_35",Mo="_input__close_bex9z_46";var et={input:Po,"--normal":"_--normal_bex9z_19","--transparent":"_--transparent_bex9z_25",input__icon:Ro,input__close:Mo};const $o=c.exports.forwardRef(({type:e="transparent",value:t="",setValue:s,...o},a)=>{const r=F("input",et),i=c.exports.useMemo(()=>!!t,[t]),p=h=>{s==null||s(h.currentTarget.value)};function d(){s==null||s("")}return l("div",{className:B(et[`--${e}`],r()),children:[n("input",{...o,value:t,ref:a,type:"text",onInput:p}),n("div",{className:r("icon"),children:n(Wt,{})}),i&&n(we,{className:r("close"),onClick:d})]})});var tt={"search-list":"_search-list_13cuv_1","--show":"_--show_13cuv_15"},zo={"empty-suggestion__header":"_empty-suggestion__header_1a47l_1","empty-suggestion__header-delete":"_empty-suggestion__header-delete_1a47l_4","empty-suggestion__item":"_empty-suggestion__item_1a47l_17","empty-suggestion__item-top":"_empty-suggestion__item-top_1a47l_33","empty-suggestion__item-right":"_empty-suggestion__item-right_1a47l_54","empty-suggestion__item-bottom":"_empty-suggestion__item-bottom_1a47l_64","empty-suggestion__history":"_empty-suggestion__history_1a47l_78","empty-suggestion__history-item":"_empty-suggestion__history-item_1a47l_82","empty-suggestion__title":"_empty-suggestion__title_1a47l_110"};const Vo=({visible:e,setVisible:t})=>{const s=F("empty-suggestion",zo),[o,a]=c.exports.useState([]),[r,i]=c.exports.useState([]),{push:p}=U(),d=P(),h=g=>{g.stopPropagation()};function m(g){d(ht(g)),t(!1);const u=Be.stringify({keywords:g});p(`${C.searchResult}?${u}`)}async function y(){const g=await Us();a(g.data)}return c.exports.useEffect(()=>{if(!e)return;const g=localStorage.getItem("search-history");return g&&i(M.parse(g)),y(),Z},[e]),l(T,{children:[r.length>0&&l("header",{className:s("header"),children:[l("h2",{children:["\u641C\u7D22\u5386\u53F2 ",n(Ae,{className:s("header-delete")})]}),n("div",{className:s("history"),children:r.map((g,u)=>l("div",{className:s("history-item"),onClick:()=>m(g),children:[g,n(we,{onClick:h})]},u))})]}),n("h3",{className:s("title"),children:"\u70ED\u641C\u699C"}),o.map((g,u)=>l("div",{className:s("item"),onClick:()=>m(g.searchWord),children:[n("p",{children:u+1}),l("div",{className:s("item-right"),children:[l("div",{className:s("item-top"),children:[n("strong",{children:g.searchWord}),g.iconUrl?n("mark",{children:"HOT"}):null,n("span",{children:g.score})]}),g.content&&n("div",{className:s("item-bottom"),children:g.content})]})]},g.searchWord))]})};var jo={"keyword-suggestion":"_keyword-suggestion_1d2pk_1","keyword-suggestion__header":"_keyword-suggestion__header_1d2pk_4","keyword-suggestion__title":"_keyword-suggestion__title_1d2pk_15","keyword-suggestion__item":"_keyword-suggestion__item_1d2pk_23"};const qo=({setVisible:e})=>{var u;const t=F("keyword-suggestion",jo),s=x(v=>v.controller.keywords),[o,a]=c.exports.useState({}),{push:r}=U(),i=P(),p={albums:{label:"\u4E13\u8F91",icon:ke},artists:{label:"\u6B4C\u624B",icon:Xt},playlists:{label:"\u6B4C\u5355",icon:lt},songs:{label:"\u5355\u66F2",icon:re}};function d(v,N){({artists:()=>r(A.singer(v)),songs:()=>i(Ce(v)),albums:()=>r(A.list(v,"album")),playlists:()=>r(A.list(v))})[N](),e(!1)}function h(){e(!1);const v=Be.stringify({keywords:s});r(`${C.searchResult}?${v}`)}function m(v){const N=p[v],w=o[v];return l("div",{children:[l("div",{className:t("title"),children:[n(N.icon,{}),N.label]}),w==null?void 0:w.map(f=>y(f,v))]},N.label)}function y(v,N){const f={albums:()=>{const S=v;return`${S.name} - ${S.artist.name}`},artists:()=>v.name,playlists:()=>v.name,songs:()=>{var V;const S=v;let R=S.transNames||((V=S.alias)==null?void 0:V.join(" "))||"";R=R?`\uFF08${R}\uFF09`:"";const $=S.artists.reduce((O,b)=>`${O} ${b.name}`,"").slice(1);return`${S.name} ${R}- ${$}`}}[N];return n("div",{className:t("item"),onClick:()=>d(v.id,N),children:f()},v.id)}async function g(){const v=await Hs(s);a(v.result)}return yt(g,300,[s]),(u=o.order)!=null&&u.length?l("div",{className:t(),children:[n("header",{className:t("header"),children:l("span",{onClick:h,children:["\u641C\u201C",n("strong",{children:s}),"\u201D\u76F8\u5173\u7684\u7ED3\u679C >"]})}),o.order.map(m)]}):n(gt,{title:"\u6682\u65E0\u6570\u636E"})},Uo=({visible:e,setVisible:t,inputRef:s})=>{const o=F("search-list",tt),a=c.exports.useRef(null),r=x(i=>i.controller.keywords);return st(a,i=>{i.target!==s&&t(!1)}),X.exports.createPortal(n("div",{ref:a,className:B(o(),{[tt["--show"]]:e}),children:e?r&&r.trim()?n(qo,{setVisible:t}):n(Vo,{visible:e,setVisible:t}):null}),document.getElementById("drawer"))},Ho=()=>{const e=F("header",Xe),[t,s]=c.exports.useState(""),[o,a]=c.exports.useState([]),{pathname:r}=De(),{go:i,push:p}=U(),[d,h]=c.exports.useState(!1),m=x(f=>f.controller.keywords),y=c.exports.useRef(null),g=P(),u=[{icon:ss,event:()=>{p(C.setting)}},{icon:ns},{icon:os},{icon:rs}],v=f=>{if(f.key==="Enter"&&m){h(!1);const S=Be.stringify({keywords:m});p(`${C.searchResult}?${S}`)}};function N(f){g(ht(f))}function w(f=!1){i(f?1:-1)}return c.exports.useEffect(()=>{if(!r)return;const f=r.match(/home\/([\w-\d]+)\b/);f!=null&&f[1]&&a(ft[f[1]]||[]);let S=r.split("/");S.length>4&&(S=S.slice(0,4)),s(S.join("/"))},[r]),l("header",{className:e(),children:[l("div",{"data-tauri-drag-region":!0,className:e("left"),children:[n(es,{className:e("left-icon"),onClick:()=>w()}),n(ts,{className:e("left-icon"),onClick:()=>w(!0)})]}),l("div",{"data-tauri-drag-region":!0,className:e("right"),children:[n("ul",{className:e("right-menu"),children:r.includes("/home")&&o.map(f=>n("li",{className:B({[Xe["--active"]]:f.path===t}),children:n(Ct,{to:f.path,onClick:()=>s(f.path),children:f.label})},f.path))}),l("div",{className:e("right-wrapper"),children:[n($o,{ref:y,type:"normal",placeholder:"\u641C\u7D22",value:m,setValue:N,onFocus:()=>h(!0),onKeyUp:v}),n("div",{className:e("right-icons"),children:u.map((f,S)=>n(f.icon,{onClick:f.event},S))})]})]}),n(Uo,{visible:d,setVisible:h,inputRef:y.current})]})},Jo=()=>n(as,{store:Ee,children:l(bt,{children:[n(Ho,{}),n(c.exports.Suspense,{fallback:n(ut,{className:Se("loading"),style:{position:"absolute"}}),children:l(nt,{children:[n(vt,{from:C.root,to:C.findMusic,exact:!0}),Lo.map(e=>n(ot,{path:e.path,children:n(e.component,{...e})},e.path))]})})]})});X.exports.render(n(c.exports.StrictMode,{children:n(Jo,{})}),document.getElementById("root"));export{ea as $,Br as A,Vn as B,oo as C,A as D,zr as E,mr as F,Ts as G,Vr as H,Mn as I,fr as J,Ve as K,Kn as L,yr as M,Wo as N,Zr as O,Yr as P,aa as Q,Kr as R,Xs as S,Do as T,sa as U,na as V,mo as W,oa as X,ur as Y,_r as Z,E as _,ve as a,jr as a0,qr as a1,Wr as a2,Xr as a3,Ur as a4,Qr as a5,Hr as a6,C as a7,Xo as a8,tr as a9,xr as aA,Pr as aB,Tr as aC,Rr as aD,Ir as aE,sr as aa,nr as ab,or as ac,rr as ad,lr as ae,cr as af,ir as ag,pr as ah,er as ai,dr as aj,hr as ak,gr as al,Jr as am,Cr as an,Gr as ao,vr as ap,br as aq,Er as ar,Sr as as,Fr as at,gt as au,$o as av,ta as aw,Dr as ax,Nr as ay,wr as az,Z as b,F as c,_e as d,kr as e,$r as f,$s as g,ar as h,dt as i,fo as j,nn as k,Js as l,Mr as m,de as n,zs as o,fe as p,Lr as q,Y as r,pt as s,ie as t,Or as u,Ar as v,vs as w,Ce as x,Cs as y,Ie as z};
