import{q as M,u as O,r as a,k as S,h as i,j as t,F as E}from"./react-1b56b61c.js";import{d as L,r as R,t as T,j as u,D as q,c as G,E as H,F as $,G as W}from"./index-c941e042.js";import{L as J}from"./index-a2d912de.js";import{A as K}from"./index-1eb760ec.js";import{M as Q}from"./index-33ef77ed.js";import{a as V}from"./react-redux-6f2a0ace.js";import{an as X,ao as Y,ap as Z,af as D,z as ee,aq as te}from"./vendor-e7a31927.js";import"./lodash-87ac67d6.js";import"./react-router-dom-1f34616f.js";const ue=()=>{const s=G("user"),w=M(),{push:N}=O(),_=V(r=>r.user.profile.userId),o=a.exports.useMemo(()=>Number(w.id),[w.id]),{state:C}=S(),[e,F]=a.exports.useState(),[h,A]=a.exports.useState([]),[c,B]=a.exports.useState([]),U=a.exports.useMemo(()=>y(c.filter(r=>r.userId===_)),[c]),k=a.exports.useMemo(()=>y(c.filter(r=>r.userId!==_)),[c]);function y(r){return r.map(n=>{const{id:l,name:d,coverImgUrl:m,trackCount:g,copywriter:p,createTime:f,tracks:v}=n;return{id:l,name:d,picUrl:m,size:g,description:p,publishTime:f,songs:v||[]}})}async function P(){const r=await H(o);F(r)}async function z(){const n=(await $(o)).djRadios.map(l=>{const{id:d,name:m,programCount:g,subCount:p,picUrl:f}=l,v=`\u8282\u76EE${g}`,x=`\u8BA2\u9605${p}`;return{id:d,imgUrl:f,name:m,col2:v,col3:x}});A(n)}async function I(){const r=await W(o);B(r.playlist)}function j(){if(h.length>0)return i(E,{children:[t("h2",{className:s("tag"),children:i("div",{children:["Ta\u521B\u5EFA\u7684\u7535\u53F0",i("strong",{children:["\uFF08",h.length,"\uFF09"]})]})}),t("div",{className:s("radio"),children:t(J,{data:h})})]})}const b=({title:r,playlist:n})=>{const[l,d]=a.exports.useState("overview");return n.length>0?i(E,{children:[i("h2",{className:s("tag"),children:[i("div",{children:[r,i("strong",{children:["\uFF08",n.length,"\uFF09"]})]}),t(K,{activeButton:l,setActiveButton:d})]}),t("div",{className:s("playlist"),children:t(Q,{type:l,id:o,data:n,myself:C})})]}):null};return a.exports.useEffect(()=>{Number.isNaN(o)||(P(),z(),I())},[]),i("div",{children:[i("header",{className:s("header"),children:[t(L,{src:e&&R(e.profile.avatarUrl,200),className:s("cover")}),i("div",{className:s("introduction"),children:[t("h2",{children:e==null?void 0:e.profile.nickname}),i("div",{className:s("title"),children:[i("div",{className:s("title-left"),children:[(e==null?void 0:e.identify)&&i("div",{className:s("title-auth"),children:[t("img",{src:T(e.identify.imageUrl)}),t("strong",{children:e.identify.imageDesc})]}),i("mark",{children:["Lv",e==null?void 0:e.level]}),e!=null&&e.profile.gender?t(X,{}):t(Y,{})]}),(e==null?void 0:e.identify)&&i("div",{className:s("title-right"),children:[i(u,{onClick:()=>N(q.singer(e.profile.artistId)),children:[t(Z,{}),"\u6B4C\u624B\u9875"]}),i(u,{children:[t(D,{}),"\u53D1\u79C1\u4FE1"]}),i(u,{children:[t(ee,{}),"\u5173\u6CE8"]}),t(u,{className:"--circle",children:t(te,{})})]})]}),i("div",{className:s("statistic"),children:[i("div",{className:s("statistic-item"),children:[t("h3",{children:e==null?void 0:e.profile.eventCount}),t("div",{children:"\u52A8\u6001"})]}),i("div",{className:s("statistic-item"),children:[t("h3",{children:e==null?void 0:e.profile.follows}),t("div",{children:"\u5173\u6CE8"})]}),i("div",{className:s("statistic-item"),children:[t("h3",{children:e==null?void 0:e.profile.followeds}),t("div",{children:"\u7C89\u4E1D"})]})]}),i("div",{className:s("social"),children:[i("div",{children:["\u793E\u4EA4\u7F51\u7EDC: ",t("span",{children:"\u672A\u7ED1\u5B9A"})]}),i("div",{children:["\u4E2A\u4EBA\u4ECB\u7ECD: ",t("span",{children:(e==null?void 0:e.profile.signature)||"\u6682\u65E0\u4ECB\u7ECD"})]})]})]})]}),j(),t(b,{title:"\u6B4C\u5355",playlist:U}),t(b,{title:"\u6536\u85CF\u7684\u6B4C\u5355",playlist:k})]})};export{ue as default};
