import{k as Q}from"./vendor-ddfd0f27.js";import{r,u as W,g as c,j as a,F as X}from"./react-34ba0285.js";import{u as Y,a as Z}from"./react-redux-b094955d.js";import{a7 as o,d as k,r as _,D as p,J as $,c as ee,y as ae,a8 as se,a9 as te,H as ne,aa as ie,ab as re,ac as ce,ad as oe,k as le}from"./index-74de2b4e.js";import{B as de,T as l,C as y,L as N}from"./index-04c9c2e8.js";import"./lodash-536b9069.js";import"./react-router-dom-46eb6367.js";const ue=""+new URL("../jpg/recommend-53b882c2.jpg",import.meta.url).href,ye=()=>{const t=ee("find-music"),d=Y(e=>!!e.user.cookie),[w,x]=r.exports.useState([]),[B,S]=r.exports.useState([]),[v,P]=r.exports.useState([]),[D,A]=r.exports.useState([]),[F,M]=r.exports.useState([]),[b,z]=r.exports.useState([]),[E,L]=r.exports.useState([]),g=Z(),{push:i}=W(),C={size:"medium",hoverDisplay:!0,placement:"bottom"},T=Q(Date.now()).format("DD");function f(e){return e.map(n=>{const{id:s,name:u,picUrl:m}=n;return{id:s,name:u,imgUrl:m}})}function h(e){g(ae(e))}function I({i:e,j:n,len:s,item:u}){var m;return c(X,{children:[a("strong",{className:t("ordinal"),children:e*s/2+n+1}),c("div",{children:[a("div",{children:u.name}),a("div",{className:t("artist"),children:(m=u.extra)==null?void 0:m.artistName})]})]})}function U({item:e}){var n;return c("div",{className:t("list"),children:[a("div",{className:t("list-name"),children:e.name}),a("div",{className:t("list-detail"),children:(n=e.extra)==null?void 0:n.description})]})}async function V(){const e=await se();x(e.banners)}async function j(){const n=await te({limit:d?9:10});S(f(n.result))}async function R(){if(!d)return;const e=await ne();P(e.data.dailySongs)}async function J(){const e=await ie({limit:4});A(f(e.result))}async function H(){const e=await re();M(f(e.result))}async function G(){const n=(await ce()).albums.map(s=>({id:s.id,name:s.name,imgUrl:s.picUrl,extra:{artistName:s.artist.name}}));z(n)}async function q(){const n=(await oe()).toplist.map(s=>({id:s.id,name:s.name,imgUrl:s.picUrl,extra:{description:s.rcmdtext}}));L(n)}function K(){d&&i(o.video)}const O=e=>{e.stopPropagation(),g(le({tracks:v,current:0,fm:[]}))};return r.exports.useEffect(()=>{V(),j(),R(),J(),H(),G(),q()},[]),c("div",{className:t(),children:[a(de,{data:w,onBannerClick:h}),a(l,{name:"\u63A8\u8350\u6B4C\u5355",onClick:()=>i(o.findMusicMusicList)}),c("div",{className:t("card"),children:[d&&c("div",{className:t("card-item"),children:[c("div",{className:t("card-wrapper"),onClick:()=>i(o.dailyRecommend),children:[a("header",{children:"\u6839\u636E\u60A8\u7684\u97F3\u4E50\u53E3\u5473\u751F\u6210\u6BCF\u65E5\u66F4\u65B0"}),a("strong",{children:T}),a(k,{className:t("card-img"),icon:C,src:ue,alt:"\u6BCF\u65E5\u63A8\u8350",onIconClick:O})]}),a("p",{children:"\u6BCF\u65E5\u6B4C\u66F2\u63A8\u8350"})]}),B.map(e=>c("div",{className:t("card-item"),children:[a(k,{className:t("card-img"),src:_(e.imgUrl,135),icon:C,onClick:()=>i(p.list(e.id)),onIconClick:()=>g($(e.id))}),a("p",{children:e.name})]},e.id))]}),a(l,{name:"\u72EC\u5BB6\u653E\u9001",welt:!0,onClick:()=>{}}),a(y,{type:"rectangle",data:D,onItemClick:e=>i(p.playVideo(e))}),a(l,{name:"\u6700\u65B0\u97F3\u4E50",onClick:()=>i(o.findMusicNewest)}),a(N,{icon:!0,data:b,functionChildren:I,onItemClick:h}),a(l,{name:"\u63A8\u8350MV",onClick:K}),a(y,{type:"rectangle",data:F,onItemClick:e=>i(p.playVideo(e))}),a(l,{name:"\u4E3B\u64AD\u7535\u53F0",welt:!0,onClick:()=>i(o.findMusicRadioHost)}),a(N,{size:"medium",data:E,functionChildren:U,onItemClick:e=>i(p.radioList(e))})]})};export{ye as default};
