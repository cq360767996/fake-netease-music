import{d as j,D as N,c as H,X as J,Y as v}from"./index-c34386fa.js";import{q as b,r as e,u as E,h as n,j as a}from"./react-d9689425.js";import{I}from"./index-b5c86e7c.js";import"./react-router-dom-94468eab.js";import"./vendor-448858a9.js";import"./lodash-87ac67d6.js";import"./react-redux-ace978cf.js";const k=()=>{const t=H("zone"),l=b(),i=e.exports.useMemo(()=>Number(l.type),[l.type]),[u,f]=e.exports.useState([]),[h,y]=e.exports.useReducer(D,[]),x=e.exports.useMemo(()=>{var s;return(s=u.find(o=>o.id===i))==null?void 0:s.name},[u,i]),d=e.exports.useRef(0),r=e.exports.useRef(null),p=20,{push:R}=E();async function g(){var c;const s=await J(i,d.current,p),o=d.current===0?"reset":"add";y({type:o,payload:s.djRadios}),d.current+=p,(c=r.current)==null||c.call(r,s.hasMore)}async function C(){const s=await v();f(s.categories)}function D(s,o){const{type:c,payload:m}=o;return c==="reset"?m:[...s,...m]}return e.exports.useEffect(()=>{C()},[]),n("div",{className:t(),children:[a("h2",{className:t("title"),children:x}),a("section",{className:t("cards"),children:h.map(s=>n("div",{className:t("card"),children:[a(j,{className:t("img"),src:s.picUrl,onClick:()=>R(N.radioList(s.id))}),n("div",{className:t("right"),children:[a("h3",{children:s.name}),a("div",{children:s.desc}),n("small",{children:["\u8282\u76EE:",s.programCount,"\uFF0C\u8BA2\u9605:",s.subCount]})]})]},s.id))}),a(I,{ref:r,cb:g})]})};export{k as default};
