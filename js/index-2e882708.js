import{r as n,u as Q,g,j as a}from"./react-b78be278.js";import{a as V}from"./react-redux-20b856b3.js";import{D as p,d as W,a7 as _,c as ee,ah as ae,y as te,ai as se,Y as ne,aj as oe,Z as re}from"./index-c071a80c.js";import{B as ie,T as c,L as ce,C as u}from"./index-251233fb.js";import{ac as le,ad as ue}from"./vendor-87fac478.js";import"./lodash-536b9069.js";import"./react-router-dom-13d0c15b.js";const ye=()=>{const o=ee("radio-host"),[P,R]=n.exports.useState([]),[y,B]=n.exports.useState([]),[i,x]=n.exports.useState(0),[k,J]=n.exports.useState(0),[S,F]=n.exports.useState([]),[N,E]=n.exports.useState([]),[w,I]=n.exports.useState([]),[T,j]=n.exports.useState([]),[v,U]=n.exports.useState([]),[L,z]=n.exports.useState([]),[A,H]=n.exports.useState([]),Z=V(),{push:d}=Q();function M(e,t){ae(e).then(s=>{const r=s.djRadios.map(C=>{const{id:h,name:f,picUrl:K}=C;return{id:h,name:f,imgUrl:K}});t(r.slice(0,5))})}function D(e=!1){e&&k-i>1&&x(i+1),!e&&i>0&&x(i-1)}function b({item:e}){var t,s,r;return g("div",{className:o("list"),children:[a("h2",{children:e.name}),a("h4",{children:(t=e.extra)==null?void 0:t.rcmdText}),a("h4",{children:(s=e.extra)==null?void 0:s.lastProgramName}),g("h3",{children:["\xA5",Number((r=e.extra)==null?void 0:r.originalPrice)/100]})]})}function O(e){Z(te(e))}function l(e){d(p.radioList(e))}function G(e){d(p.radioList(e,"pay"))}function m(e){var s;const t=(s=y.find(r=>r.name===e))==null?void 0:s.id;d(p.radioZone(t))}async function X(){const e=await se();R(e.data.map(t=>({targetId:t.targetId,imageUrl:t.pic})))}async function Y(){const e=await ne();B(e.categories),J(Math.ceil(e.categories.length/8))}async function $(){const t=(await oe()).data.map(s=>({id:s.id,name:s.rcmdText,imgUrl:s.picUrl}));F(t)}async function q(){const t=(await re()).data.list.map(s=>{const{id:r,name:C,picUrl:h,...f}=s;return{id:r,name:C,imgUrl:h,extra:f}});E(t)}return n.exports.useEffect(()=>{X(),Y(),$(),q(),[[10001,I],[2001,j],[2,U],[3,z],[8,H]].forEach(t=>M(...t))},[]),g("div",{className:o(),children:[a(ie,{data:P,onBannerClick:O}),g("div",{className:o("category"),children:[i>0?a(le,{className:o("category-arrow --left"),onClick:()=>D()}):null,k-i>1?a(ue,{className:o("category-arrow --right"),onClick:()=>D(!0)}):null,a("div",{className:o("category-wrapper"),style:{transform:`translateX(${2-i*72}vw)`},children:y.map(e=>g("div",{className:o("category-item"),onClick:()=>d(p.radioZone(e.id)),children:[a("div",{className:o("category-img-wrapper"),children:a(W,{className:o("category-img"),src:e.pic56x56Url})}),a("div",{className:o("category-text"),children:e.name})]},e.id))})]}),a(c,{name:"\u4ED8\u8D39\u7CBE\u54C1",onClick:()=>d(_.findMusicRadioHostPay)}),a(ce,{size:"large",data:N,functionChildren:b,onItemClick:G}),a(c,{name:"\u7535\u53F0\u4E2A\u6027\u63A8\u8350"}),a(u,{data:S,onItemClick:l}),a(c,{name:"\u6709\u58F0\u4E66",onClick:()=>m("\u6709\u58F0\u4E66")}),a(u,{data:w,onItemClick:l}),a(c,{name:"\u521B\u4F5C\u7FFB\u5531",onClick:()=>m("\u521B\u4F5C\u7FFB\u5531")}),a(u,{data:T,onItemClick:l}),a(c,{name:"\u97F3\u4E50\u63A8\u8350",onClick:()=>m("\u97F3\u4E50\u63A8\u8350")}),a(u,{data:v,onItemClick:l}),a(c,{name:"\u60C5\u611F",onClick:()=>m("\u60C5\u611F")}),a(u,{data:L,onItemClick:l}),a(c,{name:"\u8131\u53E3\u79C0",onClick:()=>m("\u8131\u53E3\u79C0")}),a(u,{data:A,onItemClick:l})]})};export{ye as default};
