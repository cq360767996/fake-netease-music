import{r,u as O,h as o,j as i,F as Q}from"./react-1b56b61c.js";import{B as W,T as c,C as v,L as C}from"./index-1c3bd344.js";import{a7 as d,d as _,r as X,D as p,K as Y,c as Z,x as $,a8 as ee,a9 as ie,H as ae,aa as te,ab as se,ac as ne,ad as re,k as oe}from"./index-c941e042.js";import{a as ce,u as de}from"./react-redux-6f2a0ace.js";import{h as le}from"./vendor-e7a31927.js";import"./lodash-87ac67d6.js";import"./react-router-dom-1f34616f.js";var ue="jpg/recommend-53b882c2.jpg";const Ce=()=>{const t=Z("find-music"),l=ce(e=>!!e.user.cookie),[y,k]=r.exports.useState([]),[b,N]=r.exports.useState([]),[x,B]=r.exports.useState([]),[S,z]=r.exports.useState([]),[P,D]=r.exports.useState([]),[A,F]=r.exports.useState([]),[M,E]=r.exports.useState([]),f=de(),{push:n}=O(),h={size:"medium",hoverDisplay:!0,placement:"bottom"},T=le(Date.now()).format("DD");function g(e){return e.map(s=>{const{id:a,name:u,picUrl:m}=s;return{id:a,name:u,imgUrl:m}})}function w(e){f($(e))}function I({i:e,j:s,len:a,item:u}){var m;return o(Q,{children:[i("strong",{className:t("ordinal"),children:e*a/2+s+1}),o("div",{children:[i("div",{children:u.name}),i("div",{className:t("artist"),children:(m=u.extra)==null?void 0:m.artistName})]})]})}function L({item:e}){var s;return o("div",{className:t("list"),children:[i("div",{className:t("list-name"),children:e.name}),i("div",{className:t("list-detail"),children:(s=e.extra)==null?void 0:s.description})]})}async function V(){const e=await ee();k(e.banners)}async function j(){const s=await ie({limit:l?9:10});N(g(s.result))}async function U(){if(!l)return;const e=await ae();B(e.data.dailySongs)}async function R(){const e=await te({limit:4});z(g(e.result))}async function J(){const e=await se();D(g(e.result))}async function H(){const s=(await ne()).albums.map(a=>({id:a.id,name:a.name,imgUrl:a.picUrl,extra:{artistName:a.artist.name}}));F(s)}async function G(){const s=(await re()).toplist.map(a=>({id:a.id,name:a.name,imgUrl:a.picUrl,extra:{description:a.rcmdtext}}));E(s)}function K(){l&&n(d.video)}const q=e=>{e.stopPropagation(),f(oe({tracks:x,current:0,fm:[]}))};return r.exports.useEffect(()=>{V(),j(),U(),R(),J(),H(),G()},[]),o("div",{className:t(),children:[i(W,{data:y,onBannerClick:w}),i(c,{name:"\u63A8\u8350\u6B4C\u5355",onClick:()=>n(d.findMusicMusicList)}),o("div",{className:t("card"),children:[l&&o("div",{className:t("card-item"),children:[o("div",{className:t("card-wrapper"),onClick:()=>n(d.dailyRecommend),children:[i("header",{children:"\u6839\u636E\u60A8\u7684\u97F3\u4E50\u53E3\u5473\u751F\u6210\u6BCF\u65E5\u66F4\u65B0"}),i("strong",{children:T}),i(_,{className:t("card-img"),icon:h,src:ue,alt:"\u6BCF\u65E5\u63A8\u8350",onIconClick:q})]}),i("p",{children:"\u6BCF\u65E5\u6B4C\u66F2\u63A8\u8350"})]}),b.map(e=>o("div",{className:t("card-item"),children:[i(_,{className:t("card-img"),src:X(e.imgUrl,135),icon:h,onClick:()=>n(p.list(e.id)),onIconClick:()=>f(Y(e.id))}),i("p",{children:e.name})]},e.id))]}),i(c,{name:"\u72EC\u5BB6\u653E\u9001",welt:!0,onClick:()=>{}}),i(v,{type:"rectangle",data:S,onItemClick:e=>n(p.playVideo(e))}),i(c,{name:"\u6700\u65B0\u97F3\u4E50",onClick:()=>n(d.findMusicNewest)}),i(C,{icon:!0,data:A,functionChildren:I,onItemClick:w}),i(c,{name:"\u63A8\u8350MV",onClick:K}),i(v,{type:"rectangle",data:P,onItemClick:e=>n(p.playVideo(e))}),i(c,{name:"\u4E3B\u64AD\u7535\u53F0",welt:!0,onClick:()=>n(d.findMusicRadioHost)}),i(C,{size:"medium",data:M,functionChildren:L,onItemClick:e=>n(p.radioList(e))})]})};export{Ce as default};
